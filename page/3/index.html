<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"capallen.gitee.io","root":"/","scheme":"Muse","version":"8.0.0","exturl":false,"sidebar":{"position":"right","display":"always","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}};
  </script>

  <meta name="description" content="数据 算法 分享">
<meta property="og:type" content="website">
<meta property="og:title" content="Allen&#39;s Blog">
<meta property="og:url" content="https://capallen.gitee.io/page/3/index.html">
<meta property="og:site_name" content="Allen&#39;s Blog">
<meta property="og:description" content="数据 算法 分享">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Allen Jia">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://capallen.gitee.io/page/3/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Allen's Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Allen's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Allen's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">体制山下的泼猴</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">24</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">28</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Allen Jia"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Allen Jia</p>
  <div class="site-description" itemprop="description">数据 算法 分享</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/CapAllen" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;CapAllen" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:allenjsj@163.com" title="E-Mail → mailto:allenjsj@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">
      

      
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://capallen.gitee.io/2018/Pandas%E6%95%B0%E6%8D%AE%E8%9E%8D%E5%90%88.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Allen Jia">
      <meta itemprop="description" content="数据 算法 分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Allen's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/Pandas%E6%95%B0%E6%8D%AE%E8%9E%8D%E5%90%88.html" class="post-title-link" itemprop="url">每周导学-第六周导学-Pandas数据融合</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-08-21 12:30:09" itemprop="dateCreated datePublished" datetime="2018-08-21T12:30:09+08:00">2018-08-21</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2019-06-06 10:32:23" itemprop="dateModified" datetime="2019-06-06T10:32:23+08:00">2019-06-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/DAND-VIP/" itemprop="url" rel="index"><span itemprop="name">DAND-VIP</span></a>
        </span>
    </span>

  
    <span id="/2018/Pandas%E6%95%B0%E6%8D%AE%E8%9E%8D%E5%90%88.html" class="post-meta-item leancloud_visitors" data-flag-title="每周导学-第六周导学-Pandas数据融合" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/Pandas%E6%95%B0%E6%8D%AE%E8%9E%8D%E5%90%88.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/Pandas%E6%95%B0%E6%8D%AE%E8%9E%8D%E5%90%88.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>It’s not about where your starting point is, but your end goal and the journey that will get you there.</p>
</blockquote>
<p>在P2阶段的末尾，课程中涉及到了一个新的pandas函数——merge，有些同学对merge的用法存在疑惑，尤其是查了一下<strong>Pandas如何做数据合并</strong>之后，发现除了merge之外，还有concat、还有join，还有append，更是一脸懵了，那这期导学呢，我们就来一起梳理一下pandas数据合并的知识点，同学们不要慌，除了代码之外，还嵌入了DataFrame的图片方便大家理解。当然，看完之后还是要自己多练习才行！加油！</p>
<h1 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h1><h2 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h2><h3 id="文档链接"><a href="#文档链接" class="headerlink" title="文档链接"></a>文档链接</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.merge.html">pandas.DataFrame.merge</a></p>
<h3 id="常用参数解读"><a href="#常用参数解读" class="headerlink" title="常用参数解读"></a>常用参数解读</h3><ul>
<li><p>right：合并的另一个DataFrame</p>
</li>
<li><p>how：数据融合的方式，包括：left、right、outer和inner，默认是inner</p>
<blockquote>
<p>merge的连接方式与SQL对比</p>
</blockquote>
<blockquote>
<table>
<thead>
<tr>
<th>合并方式</th>
<th>SQL JOIN</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>left</code></td>
<td><code>LEFT OUTER JOIN</code></td>
<td>只用左表的key去匹配链接</td>
</tr>
<tr>
<td><code>right</code></td>
<td><code>RIGHT OUTER JOIN</code></td>
<td>只用右表的key去匹配链接</td>
</tr>
<tr>
<td><code>outer</code></td>
<td><code>FULL OUTER JOIN</code></td>
<td>两表中key的并集</td>
</tr>
<tr>
<td><code>inner</code></td>
<td><code>INNER JOIN</code></td>
<td>两表中key的交集</td>
</tr>
</tbody></table>
</blockquote>
</li>
<li><p>on：进行合并的共有列的名字，用到这个参数的时候一定要保证左表和右表的共有列都有相同的列名</p>
</li>
<li><p>left_on：左表对齐的列，可以是列名，也可以是和dataframe同样长度的arrays。</p>
</li>
<li><p>right_on：右表对齐的列，可以是列名，也可以是和dataframe同样长度的arrays。</p>
</li>
<li><p>left_index/ right_index: 布尔值，如果是True的话，以index作为key</p>
</li>
<li><p>sort：布尔值，会根据dataframe合并的keys按字典顺序(abcd…这种)排序，默认为True，设置为False可以提高运算速率。</p>
</li>
</ul>
<h2 id="合并方法"><a href="#合并方法" class="headerlink" title="合并方法"></a>合并方法</h2><ul>
<li><p>一对一 : 联接两个 DataFrame 的key唯一</p>
</li>
<li><p>多对一 : 将一个DataFrame的唯一key连接到另一个 DataFrame 中的一个或多个key</p>
<ul>
<li>多对多 : keys 对 keys</li>
</ul>
</li>
</ul>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><ul>
<li><p>一对一</p>
<blockquote>
<p>默认连接方式为inner，即取交集</p>
</blockquote>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [1]: left &#x3D; pd.DataFrame(&#123;&#39;key&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K2&#39;, &#39;K3&#39;],</span><br><span class="line">   ....:                      &#39;A&#39;: [&#39;A0&#39;, &#39;A1&#39;, &#39;A2&#39;, &#39;A3&#39;],</span><br><span class="line">   ....:                      &#39;B&#39;: [&#39;B0&#39;, &#39;B1&#39;, &#39;B2&#39;, &#39;B3&#39;]&#125;)</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [2]: right &#x3D; pd.DataFrame(&#123;&#39;key&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K2&#39;, &#39;K3&#39;],</span><br><span class="line">   ....:                       &#39;C&#39;: [&#39;C0&#39;, &#39;C1&#39;, &#39;C2&#39;, &#39;C3&#39;],</span><br><span class="line">   ....:                       &#39;D&#39;: [&#39;D0&#39;, &#39;D1&#39;, &#39;D2&#39;, &#39;D3&#39;]&#125;)</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [3]: result &#x3D; pd.merge(left, right, on&#x3D;&#39;key&#39;)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_merge_on_key.png" alt="_images/merging_merge_on_key.png"> </p>
<ul>
<li>多对多（默认内链接）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">In [4]: left &#x3D; pd.DataFrame(&#123;&#39;key1&#39;: [&#39;K0&#39;, &#39;K0&#39;, &#39;K1&#39;, &#39;K2&#39;],</span><br><span class="line">   ....:                      &#39;key2&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K0&#39;, &#39;K1&#39;],</span><br><span class="line">   ....:                      &#39;A&#39;: [&#39;A0&#39;, &#39;A1&#39;, &#39;A2&#39;, &#39;A3&#39;],</span><br><span class="line">   ....:                      &#39;B&#39;: [&#39;B0&#39;, &#39;B1&#39;, &#39;B2&#39;, &#39;B3&#39;]&#125;)</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [5]: right &#x3D; pd.DataFrame(&#123;&#39;key1&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K1&#39;, &#39;K2&#39;],</span><br><span class="line">   ....:                       &#39;key2&#39;: [&#39;K0&#39;, &#39;K0&#39;, &#39;K0&#39;, &#39;K0&#39;],</span><br><span class="line">   ....:                       &#39;C&#39;: [&#39;C0&#39;, &#39;C1&#39;, &#39;C2&#39;, &#39;C3&#39;],</span><br><span class="line">   ....:                       &#39;D&#39;: [&#39;D0&#39;, &#39;D1&#39;, &#39;D2&#39;, &#39;D3&#39;]&#125;)</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [6]: result &#x3D; pd.merge(left, right, on&#x3D;[&#39;key1&#39;, &#39;key2&#39;])</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_merge_on_key_multiple.png" alt="_images/merging_merge_on_key_multiple.png"> </p>
<ul>
<li>左链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [7]: result &#x3D; pd.merge(left, right, how&#x3D;&#39;left&#39;, on&#x3D;[&#39;key1&#39;, &#39;key2&#39;])</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_merge_on_key_left.png" alt="_images/merging_merge_on_key_left.png"> </p>
<ul>
<li>右链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [8]: result &#x3D; pd.merge(left, right, how&#x3D;&#39;right&#39;, on&#x3D;[&#39;key1&#39;, &#39;key2&#39;])</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_merge_on_key_right.png" alt="_images/merging_merge_on_key_right.png"> </p>
<ul>
<li>外链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [9]: result &#x3D; pd.merge(left, right, how&#x3D;&#39;outer&#39;, on&#x3D;[&#39;key1&#39;, &#39;key2&#39;])</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_merge_on_key_outer.png" alt="_images/merging_merge_on_key_outer.png"> </p>
<ul>
<li><p>利用index链接</p>
<p>这里就要用到<code>left_index</code>和<code>right_index</code>参数了，实例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [10]: result &#x3D; pd.merge(left, right, left_index&#x3D;True, right_index&#x3D;True, how&#x3D;&#39;outer&#39;)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_merge_index_outer.png" alt="_images/merging_merge_index_outer.png"> </p>
</li>
</ul>
<h3 id="重复列的处理"><a href="#重复列的处理" class="headerlink" title="重复列的处理"></a>重复列的处理</h3><p>当你进行合并时，key有重复的话，会额外输出<code>行数X重名列数</code>的数据，不仅结果错误，还会导致电脑运行速度巨慢，所以，合并前一定要检查是否有重复列名，当然你可以直接比对两表的列名，或者选择如下方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [10]: left &#x3D; pd.DataFrame(&#123;&#39;A&#39; : [1,2], &#39;B&#39; : [1, 2]&#125;)</span><br><span class="line"></span><br><span class="line">In [11]: right &#x3D; pd.DataFrame(&#123;&#39;A&#39; : [4,5,6], &#39;B&#39;: [2, 2, 2]&#125;)</span><br><span class="line"></span><br><span class="line">In [12]: result &#x3D; pd.merge(left, right, on&#x3D;&#39;B&#39;, how&#x3D;&#39;outer&#39;, validate&#x3D;&quot;one_to_one&quot;)</span><br><span class="line">...</span><br><span class="line">MergeError: Merge keys are not unique in right dataset; not a one-to-one merge</span><br></pre></td></tr></table></figure>

<p>当有重名列的时候，就会报错，那么如果想继续合并的话，只需把<code>validate</code>参数改为<code>&quot;one_to_many&quot;</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [13]: pd.merge(left, right, on&#x3D;&#39;B&#39;, how&#x3D;&#39;outer&#39;, validate&#x3D;&quot;one_to_many&quot;)</span><br><span class="line">Out[13]: </span><br><span class="line">   A_x  B  A_y</span><br><span class="line">0    1  1  NaN</span><br><span class="line">1    2  2  4.0</span><br><span class="line">2    2  2  5.0</span><br><span class="line">3    2  2  6.0</span><br></pre></td></tr></table></figure>

<p>如果你想在合并后，把两表中重名的列加上后缀的话，可以使用<code>suffixes</code>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [27]: left &#x3D; pd.DataFrame(&#123;&#39;k&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K2&#39;], &#39;v&#39;: [1, 2, 3]&#125;)</span><br><span class="line"></span><br><span class="line">In [28]: right &#x3D; pd.DataFrame(&#123;&#39;k&#39;: [&#39;K0&#39;, &#39;K0&#39;, &#39;K3&#39;], &#39;v&#39;: [4, 5, 6]&#125;)</span><br><span class="line"></span><br><span class="line">In [29]: result &#x3D; pd.merge(left, right, on&#x3D;&#39;k&#39;, suffixes&#x3D;[&#39;_l&#39;, &#39;_r&#39;])</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_merge_overlapped_suffix.png" alt="_images/merging_merge_overlapped_suffix.png"> </p>
<h3 id="indicator参数"><a href="#indicator参数" class="headerlink" title="indicator参数"></a><code>indicator</code>参数</h3><p>在merge里，还有一个有意思的参数叫<code>indicator</code>，可以输入布尔值（默认为False），当你设置为True的时候，会在你合并的表中，增加一列<code>_merge</code>，元素则表示了合并后的数据来自左表还是右表或者二者皆有。</p>
<p>看示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [14]: df1 &#x3D; pd.DataFrame(&#123;&#39;col1&#39;: [0, 1], &#39;col_left&#39;:[&#39;a&#39;, &#39;b&#39;]&#125;)</span><br><span class="line"></span><br><span class="line">In [15]: df2 &#x3D; pd.DataFrame(&#123;&#39;col1&#39;: [1, 2, 2],&#39;col_right&#39;:[2, 2, 2]&#125;)</span><br><span class="line"></span><br><span class="line">In [16]: pd.merge(df1, df2, on&#x3D;&#39;col1&#39;, how&#x3D;&#39;outer&#39;, indicator&#x3D;True)</span><br><span class="line">Out[16]: </span><br><span class="line">   col1 col_left  col_right      _merge</span><br><span class="line">0     0        a        NaN   left_only</span><br><span class="line">1     1        b        2.0        both</span><br><span class="line">2     2      NaN        2.0  right_only</span><br><span class="line">3     2      NaN        2.0  right_only</span><br></pre></td></tr></table></figure>

<p>或者也可以输入一个字符串作为列名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [17]: pd.merge(df1, df2, on&#x3D;&#39;col1&#39;, how&#x3D;&#39;outer&#39;, indicator&#x3D;&#39;indicator_column&#39;)</span><br><span class="line">Out[17]: </span><br><span class="line">   col1 col_left  col_right indicator_column</span><br><span class="line">0     0        a        NaN        left_only</span><br><span class="line">1     1        b        2.0             both</span><br><span class="line">2     2      NaN        2.0       right_only</span><br><span class="line">3     2      NaN        2.0       right_only</span><br></pre></td></tr></table></figure>

<h1 id="join"><a href="#join" class="headerlink" title="join"></a>join</h1><h2 id="官方文档-1"><a href="#官方文档-1" class="headerlink" title="官方文档"></a>官方文档</h2><h3 id="文档链接-1"><a href="#文档链接-1" class="headerlink" title="文档链接"></a>文档链接</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.join.html">pandas.DataFrame.join</a></p>
<h3 id="常用参数解读-1"><a href="#常用参数解读-1" class="headerlink" title="常用参数解读"></a>常用参数解读</h3><ul>
<li><strong>other</strong> : DataFrame , 或者是有列名的Series</li>
<li><strong>on</strong> : 也就是merge的key，可以输入key或者keys，默认为<strong>index</strong></li>
<li><strong>how</strong> : left、right、outer、inner，默认为<strong>left</strong></li>
</ul>
<h2 id="合并方法-1"><a href="#合并方法-1" class="headerlink" title="合并方法"></a>合并方法</h2><p>join是一种快速合并方法，所需参数较少，默认以index作为链接键。</p>
<h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><ul>
<li>最常用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [18]: left &#x3D; pd.DataFrame(&#123;&#39;A&#39;: [&#39;A0&#39;, &#39;A1&#39;, &#39;A2&#39;],</span><br><span class="line">   ....:                      &#39;B&#39;: [&#39;B0&#39;, &#39;B1&#39;, &#39;B2&#39;]&#125;,</span><br><span class="line">   ....:                      index&#x3D;[&#39;K0&#39;, &#39;K1&#39;, &#39;K2&#39;])</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [19]: right &#x3D; pd.DataFrame(&#123;&#39;C&#39;: [&#39;C0&#39;, &#39;C2&#39;, &#39;C3&#39;],</span><br><span class="line">   ....:                       &#39;D&#39;: [&#39;D0&#39;, &#39;D2&#39;, &#39;D3&#39;]&#125;,</span><br><span class="line">   ....:                       index&#x3D;[&#39;K0&#39;, &#39;K2&#39;, &#39;K3&#39;])</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [20]: result &#x3D; left.join(right)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_join.png" alt="_images/merging_join.png"> </p>
<ul>
<li>外连接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [21]: result &#x3D; left.join(right, how&#x3D;&#39;outer&#39;)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_join_outer.png" alt="_images/merging_join_outer.png"> </p>
<ul>
<li>内连接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [22]: result &#x3D; left.join(right, how&#x3D;&#39;inner&#39;)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_join_inner.png" alt="_images/merging_join_inner.png"> </p>
<ul>
<li>键为列与index</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [23]: left &#x3D; pd.DataFrame(&#123;&#39;A&#39;: [&#39;A0&#39;, &#39;A1&#39;, &#39;A2&#39;, &#39;A3&#39;],</span><br><span class="line">   ....:                      &#39;B&#39;: [&#39;B0&#39;, &#39;B1&#39;, &#39;B2&#39;, &#39;B3&#39;],</span><br><span class="line">   ....:                      &#39;key&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K0&#39;, &#39;K1&#39;]&#125;)</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [24]: right &#x3D; pd.DataFrame(&#123;&#39;C&#39;: [&#39;C0&#39;, &#39;C1&#39;],</span><br><span class="line">   ....:                       &#39;D&#39;: [&#39;D0&#39;, &#39;D1&#39;]&#125;,</span><br><span class="line">   ....:                       index&#x3D;[&#39;K0&#39;, &#39;K1&#39;])</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [25]: result &#x3D; left.join(right, on&#x3D;&#39;key&#39;)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_join_key_columns.png" alt="_images/merging_join_key_columns.png"> </p>
<ul>
<li>键为多列与多index</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">In [26]: left &#x3D; pd.DataFrame(&#123;&#39;A&#39;: [&#39;A0&#39;, &#39;A1&#39;, &#39;A2&#39;, &#39;A3&#39;],</span><br><span class="line">   ....:                      &#39;B&#39;: [&#39;B0&#39;, &#39;B1&#39;, &#39;B2&#39;, &#39;B3&#39;],</span><br><span class="line">   ....:                      &#39;key1&#39;: [&#39;K0&#39;, &#39;K0&#39;, &#39;K1&#39;, &#39;K2&#39;],</span><br><span class="line">   ....:                      &#39;key2&#39;: [&#39;K0&#39;, &#39;K1&#39;, &#39;K0&#39;, &#39;K1&#39;]&#125;)</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [27]: index &#x3D; pd.MultiIndex.from_tuples([(&#39;K0&#39;, &#39;K0&#39;), (&#39;K1&#39;, &#39;K0&#39;),</span><br><span class="line">   ....:                                   (&#39;K2&#39;, &#39;K0&#39;), (&#39;K2&#39;, &#39;K1&#39;)])</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [28]: right &#x3D; pd.DataFrame(&#123;&#39;C&#39;: [&#39;C0&#39;, &#39;C1&#39;, &#39;C2&#39;, &#39;C3&#39;],</span><br><span class="line">   ....:                    &#39;D&#39;: [&#39;D0&#39;, &#39;D1&#39;, &#39;D2&#39;, &#39;D3&#39;]&#125;,</span><br><span class="line">   ....:                   index&#x3D;index)</span><br><span class="line">   ....: </span><br><span class="line">In [29]: result &#x3D; left.join(right, on&#x3D;[&#39;key1&#39;, &#39;key2&#39;])</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_join_multikeys.png" alt="_images/merging_join_multikeys.png"> </p>
<ul>
<li>键为单index与多重index</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">In [30]: left &#x3D; pd.DataFrame(&#123;&#39;A&#39;: [&#39;A0&#39;, &#39;A1&#39;, &#39;A2&#39;],</span><br><span class="line">   ....:                      &#39;B&#39;: [&#39;B0&#39;, &#39;B1&#39;, &#39;B2&#39;]&#125;,</span><br><span class="line">   ....:                      index&#x3D;pd.Index([&#39;K0&#39;, &#39;K1&#39;, &#39;K2&#39;], name&#x3D;&#39;key&#39;))</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [31]: index &#x3D; pd.MultiIndex.from_tuples([(&#39;K0&#39;, &#39;Y0&#39;), (&#39;K1&#39;, &#39;Y1&#39;),</span><br><span class="line">   ....:                                   (&#39;K2&#39;, &#39;Y2&#39;), (&#39;K2&#39;, &#39;Y3&#39;)],</span><br><span class="line">   ....:                                    names&#x3D;[&#39;key&#39;, &#39;Y&#39;])</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [32]: right &#x3D; pd.DataFrame(&#123;&#39;C&#39;: [&#39;C0&#39;, &#39;C1&#39;, &#39;C2&#39;, &#39;C3&#39;],</span><br><span class="line">   ....:                       &#39;D&#39;: [&#39;D0&#39;, &#39;D1&#39;, &#39;D2&#39;, &#39;D3&#39;]&#125;,</span><br><span class="line">   ....:                       index&#x3D;index)</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [33]: result &#x3D; left.join(right, how&#x3D;&#39;inner&#39;)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_join_multiindex_inner.png" alt="_images/merging_join_multiindex_inner.png"> </p>
<blockquote>
<p>你也可以用merge来实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In [34]: result &#x3D; pd.merge(left.reset_index(), right.reset_index(),</span><br><span class="line">   ....:       on&#x3D;[&#39;key&#39;], how&#x3D;&#39;inner&#39;).set_index([&#39;key&#39;,&#39;Y&#39;])</span><br><span class="line">   ....: </span><br></pre></td></tr></table></figure>

<ul>
<li>键为两个多重index</li>
</ul>
<p>这里用join就不能实现了，但是你可以用merge，方法跟上面merge的用法类似</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">In [35]: index &#x3D; pd.MultiIndex.from_tuples([(&#39;K0&#39;, &#39;X0&#39;), (&#39;K0&#39;, &#39;X1&#39;),</span><br><span class="line">   ....:                                    (&#39;K1&#39;, &#39;X2&#39;)],</span><br><span class="line">   ....:                                     names&#x3D;[&#39;key&#39;, &#39;X&#39;])</span><br><span class="line">   ....: </span><br><span class="line"></span><br><span class="line">In [36]: left &#x3D; pd.DataFrame(&#123;&#39;A&#39;: [&#39;A0&#39;, &#39;A1&#39;, &#39;A2&#39;],</span><br><span class="line">   .....:                      &#39;B&#39;: [&#39;B0&#39;, &#39;B1&#39;, &#39;B2&#39;]&#125;,</span><br><span class="line">   .....:                       index&#x3D;index)</span><br><span class="line">   .....: </span><br><span class="line"></span><br><span class="line">In [37]: result &#x3D; pd.merge(left.reset_index(), right.reset_index(),</span><br><span class="line">   .....:                   on&#x3D;[&#39;key&#39;], how&#x3D;&#39;inner&#39;).set_index([&#39;key&#39;,&#39;X&#39;,&#39;Y&#39;])</span><br><span class="line">   .....: </span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_merge_two_multiindex.png" alt="_images/merging_merge_two_multiindex.png"> </p>
</blockquote>
<h3 id="重复列的处理-1"><a href="#重复列的处理-1" class="headerlink" title="重复列的处理"></a>重复列的处理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [38]: left &#x3D; pd.DataFrame(&#123; &#39;v&#39;: [1, 2, 3]&#125;,index &#x3D; [&#39;K0&#39;, &#39;K1&#39;, &#39;K2&#39;])</span><br><span class="line"></span><br><span class="line">In [39]: right &#x3D; pd.DataFrame(&#123; &#39;v&#39;: [4, 5, 6]&#125;,index &#x3D; [&#39;K0&#39;, &#39;K0&#39;, &#39;K3&#39;])</span><br><span class="line"></span><br><span class="line">In [40]: result &#x3D; left.join(right, lsuffix&#x3D;&#39;_l&#39;, rsuffix&#x3D;&#39;_r&#39;)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_merge_overlapped_multi_suffix.png" alt="_images/merging_merge_overlapped_multi_suffix.png"> </p>
<h3 id="多表的连接"><a href="#多表的连接" class="headerlink" title="多表的连接"></a>多表的连接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In [41]: right2 &#x3D; pd.DataFrame(&#123;&#39;v&#39;: [7, 8, 9]&#125;, index&#x3D;[&#39;K1&#39;, &#39;K1&#39;, &#39;K2&#39;])</span><br><span class="line"></span><br><span class="line">In [42]: result &#x3D; left.join([right, right2])</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_join_multi_df.png" alt="_images/merging_join_multi_df.png"> </p>
<h1 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h1><h2 id="官方文档-2"><a href="#官方文档-2" class="headerlink" title="官方文档"></a>官方文档</h2><h3 id="文档链接-2"><a href="#文档链接-2" class="headerlink" title="文档链接"></a>文档链接</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.concat.html#pandas.concat">pandas.concat</a></p>
<h3 id="常用参数解读-2"><a href="#常用参数解读-2" class="headerlink" title="常用参数解读"></a>常用参数解读</h3><ul>
<li>objs:：series或者dataframe  </li>
<li>axis： 需要合并连接的轴，0表示行，1表示列   </li>
<li>join：inner或者outer，默认为outer </li>
</ul>
<h2 id="合并方法-2"><a href="#合并方法-2" class="headerlink" title="合并方法"></a>合并方法</h2><h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h3><ul>
<li>纵向连接相同列名的表</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">In [1]: df1 &#x3D; pd.DataFrame(&#123;&#39;A&#39;: [&#39;A0&#39;, &#39;A1&#39;, &#39;A2&#39;, &#39;A3&#39;],</span><br><span class="line">   ...:                     &#39;B&#39;: [&#39;B0&#39;, &#39;B1&#39;, &#39;B2&#39;, &#39;B3&#39;],</span><br><span class="line">   ...:                     &#39;C&#39;: [&#39;C0&#39;, &#39;C1&#39;, &#39;C2&#39;, &#39;C3&#39;],</span><br><span class="line">   ...:                     &#39;D&#39;: [&#39;D0&#39;, &#39;D1&#39;, &#39;D2&#39;, &#39;D3&#39;]&#125;,</span><br><span class="line">   ...:                     index&#x3D;[0, 1, 2, 3])</span><br><span class="line">   ...: </span><br><span class="line"></span><br><span class="line">In [2]: df2 &#x3D; pd.DataFrame(&#123;&#39;A&#39;: [&#39;A4&#39;, &#39;A5&#39;, &#39;A6&#39;, &#39;A7&#39;],</span><br><span class="line">   ...:                     &#39;B&#39;: [&#39;B4&#39;, &#39;B5&#39;, &#39;B6&#39;, &#39;B7&#39;],</span><br><span class="line">   ...:                     &#39;C&#39;: [&#39;C4&#39;, &#39;C5&#39;, &#39;C6&#39;, &#39;C7&#39;],</span><br><span class="line">   ...:                     &#39;D&#39;: [&#39;D4&#39;, &#39;D5&#39;, &#39;D6&#39;, &#39;D7&#39;]&#125;,</span><br><span class="line">   ...:                      index&#x3D;[4, 5, 6, 7])</span><br><span class="line">   ...: </span><br><span class="line"></span><br><span class="line">In [3]: df3 &#x3D; pd.DataFrame(&#123;&#39;A&#39;: [&#39;A8&#39;, &#39;A9&#39;, &#39;A10&#39;, &#39;A11&#39;],</span><br><span class="line">   ...:                     &#39;B&#39;: [&#39;B8&#39;, &#39;B9&#39;, &#39;B10&#39;, &#39;B11&#39;],</span><br><span class="line">   ...:                     &#39;C&#39;: [&#39;C8&#39;, &#39;C9&#39;, &#39;C10&#39;, &#39;C11&#39;],</span><br><span class="line">   ...:                     &#39;D&#39;: [&#39;D8&#39;, &#39;D9&#39;, &#39;D10&#39;, &#39;D11&#39;]&#125;,</span><br><span class="line">   ...:                     index&#x3D;[8, 9, 10, 11])</span><br><span class="line">   ...: </span><br><span class="line"></span><br><span class="line">In [4]: frames &#x3D; [df1, df2, df3]</span><br><span class="line"></span><br><span class="line">In [5]: result &#x3D; pd.concat(frames)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_concat_basic.png" alt="_images/merging_concat_basic.png"> </p>
<p>你也可以设置<code>key</code>参数，来区分数据来自哪张表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [6]: result &#x3D; pd.concat(frames, keys&#x3D;[&#39;x&#39;, &#39;y&#39;, &#39;z&#39;])</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_concat_keys.png" alt="_images/merging_concat_keys.png"> </p>
<ul>
<li>行拼接（默认外连接）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [8]: df4 &#x3D; pd.DataFrame(&#123;&#39;B&#39;: [&#39;B2&#39;, &#39;B3&#39;, &#39;B6&#39;, &#39;B7&#39;],</span><br><span class="line">   ...:                     &#39;D&#39;: [&#39;D2&#39;, &#39;D3&#39;, &#39;D6&#39;, &#39;D7&#39;],</span><br><span class="line">   ...:                     &#39;F&#39;: [&#39;F2&#39;, &#39;F3&#39;, &#39;F6&#39;, &#39;F7&#39;]&#125;,</span><br><span class="line">   ...:                    index&#x3D;[2, 3, 6, 7])</span><br><span class="line">   ...: </span><br><span class="line"></span><br><span class="line">In [9]: result &#x3D; pd.concat([df1, df4], axis&#x3D;1, sort&#x3D;False)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_concat_axis1.png" alt="_images/merging_concat_axis1.png"> </p>
<ul>
<li>行拼接（设置内连接）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [10]: result &#x3D; pd.concat([df1, df4], axis&#x3D;1, join&#x3D;&#39;inner&#39;)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_concat_axis1_inner.png" alt="_images/merging_concat_axis1_inner.png"> </p>
<ul>
<li>行拼接（只筛选出某一表的index）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [11]: result &#x3D; pd.concat([df1, df4], axis&#x3D;1, join_axes&#x3D;[df1.index])</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_concat_axis1_join_axes.png" alt="_images/merging_concat_axis1_join_axes.png"> </p>
<ul>
<li><p>无视index的合并</p>
<p>当数据表的index没有实际意义时，可以使用<code>ignore_index</code>参数，来重置合并后的数据集index</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [15]: result &#x3D; pd.concat([df1, df4], ignore_index&#x3D;True)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_concat_ignore_index.png" alt="_images/merging_concat_ignore_index.png"> </p>
<ul>
<li>合并DataFrame与Series</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In [17]: s1 &#x3D; pd.Series([&#39;X0&#39;, &#39;X1&#39;, &#39;X2&#39;, &#39;X3&#39;], name&#x3D;&#39;X&#39;)</span><br><span class="line"></span><br><span class="line">In [18]: result &#x3D; pd.concat([df1, s1], axis&#x3D;1)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_concat_mixed_ndim.png" alt="_images/merging_concat_mixed_ndim.png"> </p>
<p>当然你也可以使用<code>ignore_index</code>参数，将列名重置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [21]: result &#x3D; pd.concat([df1, s1], axis&#x3D;1, ignore_index&#x3D;True)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_concat_series_ignore_index.png" alt="_images/merging_concat_series_ignore_index.png"> </p>
<ul>
<li>合并若干Series</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">In [22]: s3 &#x3D; pd.Series([0, 1, 2, 3], name&#x3D;&#39;foo&#39;)</span><br><span class="line"></span><br><span class="line">In [23]: s4 &#x3D; pd.Series([0, 1, 2, 3])</span><br><span class="line"></span><br><span class="line">In [24]: s5 &#x3D; pd.Series([0, 1, 4, 5])</span><br><span class="line"></span><br><span class="line">In [25]: pd.concat([s3, s4, s5], axis&#x3D;1)</span><br><span class="line">Out[25]: </span><br><span class="line">   foo  0  1</span><br><span class="line">0    0  0  0</span><br><span class="line">1    1  1  1</span><br><span class="line">2    2  2  4</span><br><span class="line">3    3  3  5</span><br></pre></td></tr></table></figure>

<p>你可以添加<code>keys</code>参数，来给合并后的数据集添加列名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [26]: pd.concat([s3, s4, s5], axis&#x3D;1, keys&#x3D;[&#39;red&#39;,&#39;blue&#39;,&#39;yellow&#39;])</span><br><span class="line">Out[26]: </span><br><span class="line">   red  blue  yellow</span><br><span class="line">0    0     0       0</span><br><span class="line">1    1     1       1</span><br><span class="line">2    2     2       4</span><br><span class="line">3    3     3       5</span><br></pre></td></tr></table></figure>

<h1 id="append"><a href="#append" class="headerlink" title="append"></a>append</h1><p>append其实就是concat的一个便捷函数，实现列的拼接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [12]: result &#x3D; df1.append(df2)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_append1.png" alt="_images/merging_append1.png"> </p>
<ul>
<li>当两表列名不一致时</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [13]: result &#x3D; df1.append(df4)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_append2.png" alt="_images/merging_append2.png"> </p>
<blockquote>
<p>你可以添加参数<code>ignore_index = True</code>，来重置合并数据集的index</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [16]: result &#x3D; df1.append(df4, ignore_index&#x3D;True)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_append_ignore_index.png" alt="_images/merging_append_ignore_index.png"> </p>
</blockquote>
<ul>
<li>合并多个表</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [14]: result &#x3D; df1.append([df2, df3])</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_append3.png" alt="_images/merging_append3.png"> </p>
<ul>
<li>DataFrame添加Series</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In [34]: s2 &#x3D; pd.Series([&#39;X0&#39;, &#39;X1&#39;, &#39;X2&#39;, &#39;X3&#39;], index&#x3D;[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;])</span><br><span class="line"></span><br><span class="line">In [35]: result &#x3D; df1.append(s2, ignore_index&#x3D;True)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_append_series_as_row.png" alt="_images/merging_append_series_as_row.png"> </p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="合并两表中的值"><a href="#合并两表中的值" class="headerlink" title="合并两表中的值"></a>合并两表中的值</h2><p>你以后也许会在工作中遇到这种情况，你的团队中针对同一情况统计了两份数据，但是这两份数据都有一些缺失值，那么如何让他们相互“弥补”这些缺失值呢？</p>
<p>试试<a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.combine_first.html#pandas.DataFrame.combine_first">pandas.DataFrame.combine_first</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">In [43]: df1 &#x3D; pd.DataFrame([[np.nan, 3., 5.], [-4.6, np.nan, np.nan],</span><br><span class="line">   .....:                    [np.nan, 7., np.nan]])</span><br><span class="line">   .....: </span><br><span class="line"></span><br><span class="line">In [44]: df2 &#x3D; pd.DataFrame([[-42.6, np.nan, -8.2], [-5., 1.6, 4]],</span><br><span class="line">   .....:                    index&#x3D;[1, 2])</span><br><span class="line">   .....: </span><br><span class="line">In [45]: result &#x3D; df1.combine_first(df2)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_combine_first.png" alt="_images/merging_combine_first.png"> </p>
<p>但是，此方法只是利用右表中的值替换了左表中的NaN。</p>
<p>另外，你还可以试试<a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.update.html#pandas.DataFrame.update">pandas.DataFrame.update</a>，这次替换的不仅仅是NaN值，还有其他所有能在右表中找到的相同位置的值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [46]: df1.update(df2)</span><br></pre></td></tr></table></figure>

<p><img src="https://pandas.pydata.org/pandas-docs/stable/_images/merging_update.png" alt="_images/merging_update.png"> </p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ul>
<li>merge主要用来根据key对数据集进行合并；</li>
<li>join相当于简化版的merge，key默认为index，所以你如果想按照index对数据集合并时，join就是你的首选；</li>
<li>concat其实是concatenate的简称，翻译过来是“连接”，所以，如果你想对数据集进行横向连接（axis = 1）或者纵向链接时，记得想起来用concat；</li>
<li>append相当于是简化版的concat，用得频次比concat要多得多。</li>
</ul>
<p>希望能通过这篇导学，给大家扫除Pandas数据融合的疑惑，当然还是那句话，<strong>Learning by doing</strong>，光看不练可不行哦，打开你的Jupyter Notebook，试试看！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://capallen.gitee.io/2018/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Allen Jia">
      <meta itemprop="description" content="数据 算法 分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Allen's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B.html" class="post-title-link" itemprop="url">每周导学-第六周-数据分析过程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-08-19 05:30:09" itemprop="dateCreated datePublished" datetime="2018-08-19T05:30:09+08:00">2018-08-19</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2019-06-06 10:32:23" itemprop="dateModified" datetime="2019-06-06T10:32:23+08:00">2019-06-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/DAND-VIP/" itemprop="url" rel="index"><span itemprop="name">DAND-VIP</span></a>
        </span>
    </span>

  
    <span id="/2018/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B.html" class="post-meta-item leancloud_visitors" data-flag-title="每周导学-第六周-数据分析过程" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>Build a dream and the dream will build you.</p>
</blockquote>
<p>Hi，同学们，上一阶段我们学习了Python的基础知识，简单了解了Python数据分析的关键库——Pandas，并且通过项目二的实战，相信大家也一定信心满满的准备学习更多的Pandas知识了吧！那么从今天开始未来的四周内，我们将会对Pandas进行更细致的学习，大家加油吧!</p>
<p>本周开始，我们就进入到了<strong>项目三(P3)阶段</strong>，本阶段总共包含<strong>四周</strong>，在这一个月内，我们要对<strong>数据分析入门</strong>进行学习，学习数据分析思维，掌握Python数据分析及可视化方法，并使用所学知识完成<strong>项目三：探索数据集</strong>，尝试着自己完成整个数据分析的流程，得到一些饶有兴趣的结论，你一定会非常有成就感哒！那么以下便是这四周的学习安排：</p>
<table>
<thead>
<tr>
<th>时间</th>
<th>学习重点</th>
<th>对应课程</th>
</tr>
</thead>
<tbody><tr>
<td><strong>第1周</strong></td>
<td><strong>数据分析过程-1</strong></td>
<td><strong>数据分析过程&amp;案例研究-1</strong></td>
</tr>
<tr>
<td>第2周</td>
<td>数据分析过程-2</td>
<td>案例研究-1&amp;案例研究-2</td>
</tr>
<tr>
<td>第3周</td>
<td>完成项目</td>
<td>项目：探索数据集</td>
</tr>
<tr>
<td>第4周</td>
<td>项目修改与通过</td>
<td>修改项目、查缺补漏、休息调整</td>
</tr>
</tbody></table>
<p><font size = '3' color = 'red'>！！看这里！！：在P3课程里面安排了SQL的高阶课程，但是因为在项目三中并不会涉及到SQL知识，所以为了保证大家学习的连贯性，在完成前两周的课程之后，就开始项目。至于！！SQL的高阶知识，大家可以放在课程通关后进行选修！！； </font></p>
<p>本阶段可能是个挑战，请一定要<strong>保持自信</strong>，请一定要坚持<strong>学习和总结</strong>，如果遇到任何<strong>课程问题</strong>请参照如下顺序进行解决：</p>
<ul>
<li>先自行查找问题答案（注意提取关键词），参考：谷歌/百度搜索、<a target="_blank" rel="noopener" href="http://www.runoob.com/python3/python3-tutorial.html">菜鸟教程</a>、<a target="_blank" rel="noopener" href="https://www.csdn.net/">CSDN</a>、<a target="_blank" rel="noopener" href="https://stackoverflow.com/">stack<strong>overflow</strong></a>、<a target="_blank" rel="noopener" href="https://github.com/CapAllen/DAND_VIP_Class/blob/master/%E6%8B%93%E5%B1%95%E5%8F%82%E8%80%83/Python%20for%20Data%20Analysis%2C%202nd%20Edition.pdf"><strong>Python for Data Analysis, 2nd Edition</strong> </a>、<a target="_blank" rel="noopener" href="http://python3-cookbook.readthedocs.io/zh_CN/latest/">Python Cookbook</a></li>
<li>若问题未解决，请将<strong>问题</strong>及其<strong>所在课程章节</strong>发送至微信群，并@助教即可</li>
</ul>
<p>饭要一口一口吃，路要一步一步走，大家不要被任务吓到，跟着导学一步一步来，肯定没问题哒！那我们开始吧！</p>
<blockquote>
<p><strong>注：</strong>本着<strong>按需知情</strong>原则，所涉及的知识点都是在数据分析过程中必须的、常用的，而不是最全面的，想要更丰富，那就需要你们课下再进一步的学习和探索！</p>
</blockquote>
<h1 id="本周目标"><a href="#本周目标" class="headerlink" title="本周目标"></a>本周目标</h1><ul>
<li>学习课程中<strong>数据分析过程</strong>中的全部和<strong>案例研究1</strong>的部分内容，了解数据分析过程，熟练掌握Pandas在数据分析中的应用。</li>
</ul>
<h1 id="学习计划"><a href="#学习计划" class="headerlink" title="学习计划"></a>学习计划</h1><table>
<thead>
<tr>
<th>时间</th>
<th>学习资源</th>
<th>学习内容</th>
</tr>
</thead>
<tbody><tr>
<td>周二</td>
<td>微信群 - 每周导学</td>
<td>预览每周导学</td>
</tr>
<tr>
<td>周三、周四</td>
<td>Udacity - Classroom</td>
<td>数据分析过程&amp;案例研究-1</td>
</tr>
<tr>
<td>周五</td>
<td>微信/Classin - 1V1</td>
<td>课程难点</td>
</tr>
<tr>
<td>周六</td>
<td>Classin - 优达日</td>
<td>本周学习总结、答疑</td>
</tr>
<tr>
<td>周日</td>
<td>笔记本</td>
<td>总结沉淀</td>
</tr>
<tr>
<td>周一</td>
<td>自主学习</td>
<td>查漏补缺</td>
</tr>
</tbody></table>
<h1 id="本周知识清单"><a href="#本周知识清单" class="headerlink" title="本周知识清单"></a>本周知识清单</h1><h2 id="前期准备-amp-拓展"><a href="#前期准备-amp-拓展" class="headerlink" title="前期准备&amp;拓展"></a>前期准备&amp;拓展</h2><ul>
<li>在<strong>课程概述</strong>给出的链接很重要，希望大家能抽空都看一看，尤其是最后的书Python for Data Analysis，目前已经出了第二版，可以戳<a target="_blank" rel="noopener" href="https://github.com/CapAllen/DAND_VIP_Class/blob/master/%E6%8B%93%E5%B1%95%E5%8F%82%E8%80%83/Python%20for%20Data%20Analysis%2C%202nd%20Edition.pdf">下载链接</a>进行下载。</li>
<li>关于<strong>设置编程环境</strong>，本章已经不是建议了，而是<strong>要求</strong>，如果你还没有完成本地环境的配置，请戳：<a target="_blank" rel="noopener" href="https://classroom.udacity.com/nanodegrees/nd002-cn-basic-vip/parts/e566ad37-6119-4448-a6bc-7ade73ef3992">配置Anaconda和Jupyter Notebook</a></li>
</ul>
<h2 id="数据分析流程"><a href="#数据分析流程" class="headerlink" title="数据分析流程"></a>数据分析流程</h2><p><strong>数据分析不是从上至下一蹴而就的过程，而是需要你不断迭代、重复、完善，最终得到结论的过程。</strong></p>
<h3 id="提出问题"><a href="#提出问题" class="headerlink" title="提出问题"></a>提出问题</h3><ul>
<li><p>数据集中的各个变量之间的相关性如何？是否存在某些联系？</p>
</li>
<li><p>变量的统计结果会揭示什么？</p>
</li>
<li><p>根据现有掌握的数据，能否对未来走势进行预测？</p>
</li>
<li><p>根据你想了解的问题，去收集数据，再对问题进行修缮，如此<strong>迭代</strong>，获取更全面的数据，提出更一阵见血的问题。</p>
<p>…</p>
</li>
</ul>
<h3 id="整理数据"><a href="#整理数据" class="headerlink" title="整理数据"></a>整理数据</h3><ul>
<li><p>收集</p>
<p>数据库提取？直接下载？网络爬虫？</p>
</li>
<li><p>评估</p>
<p>这个过程是对数据产生直观印象的过程，你要尝试了解数据集的大小，基本的统计结果，是否存在数据重复？缺失？数据类型是否正确？是否每个变量成一列&amp;每个观察值成一行？数据是否有统计错误？(严重偏离正常值，比如说气温达到70℃等等)…</p>
</li>
<li><p>清理</p>
<p>对评估出的问题进行逐项排查、清理，直至获取到干净的数据（推荐超级有用且经典的<a target="_blank" rel="noopener" href="https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html">Tidy Data</a>，虽然代码用的是R语言，但代码不就只是工具而已嘛，关键的是<strong>思维方法</strong>）</p>
</li>
</ul>
<h3 id="探索性数据分析"><a href="#探索性数据分析" class="headerlink" title="探索性数据分析"></a>探索性数据分析</h3><p>即课程中提到的EDA(Exploratory data analysis )，这是一种分析数据集——尤其是陌生数据集——的方法，具体实施的话可以采用定量、定性的数据分析或者是可视化分析。</p>
<p>这是一个强调<strong>迭代</strong>的过程，在这个阶段你要不断的对数据进行探索（提问、整理、分析、可视化等等），根据你得到的结果再去丰富你的数据或者完善你的问题，最终得出结论。</p>
<p>这是一个考验耐心和细心的繁琐过程，所以一定要<strong>心平气和</strong>，保持<strong>工作的连贯性</strong>。（<del>不做完一套不能睡觉？</del>）</p>
<h3 id="得出结论"><a href="#得出结论" class="headerlink" title="得出结论"></a>得出结论</h3><ul>
<li>通过可视化直接得出结论（描述、总结）</li>
<li>统计学（预测，P4阶段会学习）</li>
<li>机器学习算法（主要是用来做预测，课下可以学一学）</li>
</ul>
<h3 id="传达结果"><a href="#传达结果" class="headerlink" title="传达结果"></a>传达结果</h3><p>撰写报告，和别人分享你的研究结果，所以一定要逻辑清晰、结论都要有根有据，让被分享者信服你的结论。</p>
<h2 id="Pandas在数据分析中的应用"><a href="#Pandas在数据分析中的应用" class="headerlink" title="Pandas在数据分析中的应用"></a>Pandas在数据分析中的应用</h2><h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><ul>
<li><p>导入Pandas包</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#打开csv文件</span></span><br><span class="line">pd.read_csv(<span class="string">&#x27;filename&#x27;</span>)</span><br><span class="line"><span class="comment">#打开excel文件</span></span><br><span class="line">pd.read_excel(<span class="string">&#x27;filename&#x27;</span>)</span><br><span class="line"><span class="comment">#处理中文字符的tsv文件</span></span><br><span class="line">pd.read_csv(<span class="string">&#x27;filename&#x27;</span>,sep = <span class="string">&#x27;\t&#x27;</span>,encoding = <span class="string">&#x27;utf-8&#x27;</span>)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="整理数据-1"><a href="#整理数据-1" class="headerlink" title="整理数据"></a>整理数据</h3><ul>
<li><p>查看数据集数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看前五行</span></span><br><span class="line">df.head()</span><br><span class="line"><span class="comment">#查看尾五行</span></span><br><span class="line">df.tail()</span><br><span class="line"><span class="comment">#查看随机一行</span></span><br><span class="line">df.sample()</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看数据集信息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看数据集行数和列数</span></span><br><span class="line">df.shape</span><br><span class="line"><span class="comment">#查看数据集信息（列名、数据类型、每列的数据量——可以看出数据缺失情况）</span></span><br><span class="line">df.info()</span><br><span class="line"><span class="comment">#查看数据集基本统计信息</span></span><br><span class="line">df.describe()</span><br><span class="line"><span class="comment">#查看数据集列名</span></span><br><span class="line">df.columns</span><br><span class="line"><span class="comment">#查看数据集数据缺失情况 </span></span><br><span class="line">df.isnull().sum()</span><br><span class="line"><span class="comment">#查看缺失列数据</span></span><br><span class="line">df[df[<span class="string">&#x27;col_name&#x27;</span>].isnull()]</span><br><span class="line"><span class="comment">#查看数据集数据重复情况</span></span><br><span class="line">sum(df.duplicated())</span><br><span class="line"><span class="comment">#查看重复数据</span></span><br><span class="line">df[df.duplicated()]</span><br><span class="line"><span class="comment">#查看某列分类统计情况</span></span><br><span class="line">df[<span class="string">&#x27;col_name&#x27;</span>].value_counts()</span><br><span class="line"><span class="comment">#查看某列唯一值</span></span><br><span class="line">df[<span class="string">&#x27;col_name&#x27;</span>].unique()</span><br><span class="line"><span class="comment">#查看某列唯一值数量</span></span><br><span class="line">df[<span class="string">&#x27;col_name&#x27;</span>].nunique()</span><br><span class="line"><span class="comment">#以某列对数据集进行排序</span></span><br><span class="line">df.sort_values(by = <span class="string">&#x27;col_name&#x27;</span>,ascending = <span class="literal">False</span>)<span class="comment">#False为由大至小</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>数据筛选</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#提取某行</span></span><br><span class="line">df.iloc[row_index]</span><br><span class="line">df.loc[<span class="string">&#x27;row_name&#x27;</span>]</span><br><span class="line"><span class="comment">#提取某几行</span></span><br><span class="line">df.iloc[row_index_1:row_index_2]</span><br><span class="line"><span class="comment">#提取某列</span></span><br><span class="line">df[<span class="string">&#x27;col_name&#x27;</span>]</span><br><span class="line"><span class="comment">#提取某几列</span></span><br><span class="line">df[[<span class="string">&#x27;col_name_1&#x27;</span>,<span class="string">&#x27;col_name_2&#x27;</span>]]</span><br><span class="line"><span class="comment">#提取某行某列的值</span></span><br><span class="line">df.iloc[row_index,col_index]</span><br><span class="line">df.loc[<span class="string">&#x27;row_name&#x27;</span>,<span class="string">&#x27;col_name&#x27;</span>]</span><br><span class="line"><span class="comment">#筛选某列中满足某条件的数据</span></span><br><span class="line">df[df[<span class="string">&#x27;col_name&#x27;</span>] == value]<span class="comment">#等于某值的数据，同理满足所有比较运算符</span></span><br><span class="line">df.query(<span class="string">&#x27;col_name == value&#x27;</span>)<span class="comment">#代码效果同上</span></span><br><span class="line">df[(df[<span class="string">&#x27;col_name_1&#x27;</span>] &gt;= value_1) &amp; (df[<span class="string">&#x27;col_name_2&#x27;</span>] != value_2)]<span class="comment">#与&amp;，或|</span></span><br><span class="line">df.query(<span class="string">&#x27;(col_name_1 &gt;= value_lower) &amp; (col_name_2 &lt;= value_upper)&#x27;</span>)</span><br><span class="line">df.groupby(<span class="string">&#x27;col_name&#x27;</span>)<span class="comment">#按col_name列进行分组</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>清理数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#删除某行</span></span><br><span class="line">df.drop([<span class="string">&#x27;row_name&#x27;</span>],inplace = <span class="literal">True</span>)<span class="comment">#若添加inplace = True，修改后的数据会覆盖原始数据</span></span><br><span class="line"><span class="comment">#删除某列</span></span><br><span class="line">df.drop([<span class="string">&#x27;col_name&#x27;</span>],axis = <span class="number">1</span>)</span><br><span class="line"><span class="comment">#缺失值的处理</span></span><br><span class="line">df.fillna(mean_value)<span class="comment">#替换缺失值</span></span><br><span class="line">df.dropna()<span class="comment">#删除包含缺失值的行</span></span><br><span class="line">df.dropna(axis = <span class="number">1</span>, how = <span class="string">&#x27;all&#x27;</span>)<span class="comment">#只删除所有数据缺失的列</span></span><br><span class="line"><span class="comment">#删除重复值</span></span><br><span class="line">drop_duplicates(inplace = <span class="literal">True</span>)</span><br><span class="line"><span class="comment">#更改某行/列/位置数据</span></span><br><span class="line">用iloc或者loc直接替换修改即可</span><br><span class="line"><span class="comment">#更改数据类型</span></span><br><span class="line">df[<span class="string">&#x27;datetime_col&#x27;</span>] = pd.to_datetime(df[<span class="string">&#x27;datetime_col&#x27;</span>])</span><br><span class="line">df[<span class="string">&#x27;col_name&#x27;</span>].astype(str)<span class="comment">#还可以是int/float...</span></span><br><span class="line"><span class="comment">#更改列名</span></span><br><span class="line">df.rename(columns=&#123;<span class="string">&#x27;A&#x27;</span>:<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;C&#x27;</span>:<span class="string">&#x27;c&#x27;</span>&#125;, inplace = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如何处理缺失值呢？这就要根据确实数据的情况而定了，是直接删除？还是暴力平均值替换？还是分类之后再用平均值替换？还是用一些什么其他的方法，全靠你去把握了。可以看一看<strong>Python Data Science</strong>这本书中的<a target="_blank" rel="noopener" href="https://jakevdp.github.io/PythonDataScienceHandbook/03.04-missing-values.html"><strong>Handling Missing Data</strong></a>章节，你肯定会有所收获的。</p>
</blockquote>
</li>
<li><p>合并数据(merge、concat、join、append)</p>
<p>因为这里比较繁琐，而且讲起来会用到很多图表，所以进行单独讲解，链接→<a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/08/21/%E7%AC%AC%E5%85%AD%E5%91%A8-2-%E6%95%B0%E6%8D%AE%E8%9E%8D%E5%90%88/">每周导学-第六周导学-Pandas数据融合</a></p>
</li>
</ul>
<h3 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h3><p>我会将Pandas的可视化部分与<strong>matplotlib.pyplot</strong>的可视化和<strong>seaborn/ggplot</strong>等可视化包放在下周的导学中。</p>
<h3 id="导出数据"><a href="#导出数据" class="headerlink" title="导出数据"></a>导出数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导出csv文件</span></span><br><span class="line">df.to_csv(<span class="string">&#x27;filename.csv&#x27;</span>,index = <span class="literal">False</span>)</span><br><span class="line"><span class="comment">#导出中文字符的excel文件</span></span><br><span class="line">df.to_excel(<span class="string">&#x27;filename.xlsx&#x27;</span>,index = <span class="literal">False</span>,encoding = <span class="string">&#x27;utf-8-sig&#x27;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Tip:<a target="_blank" rel="noopener" href="https://blog.csdn.net/u012965373/article/details/52680787">utf-8与utf-8-sig 两种编码格式区别</a></p>
</blockquote>
<h1 id="项目相关"><a href="#项目相关" class="headerlink" title="项目相关"></a>项目相关</h1><p>P3的项目需要你完完整整得过一遍数据分析的过程，所以呢，单独的某一个数据集肯定满足不了大家，贴心的Udacity给大家准备了几个数据集备选，戳<a target="_blank" rel="noopener" href="https://github.com/udacity/new-dand-basic-china/blob/master/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%85%A5%E9%97%A8/%E9%A1%B9%E7%9B%AE-%E6%8E%A2%E7%B4%A2%E6%95%B0%E6%8D%AE%E9%9B%86/%E6%8E%A2%E7%B4%A2%E6%95%B0%E6%8D%AE%E9%9B%86%20-%20%E5%A4%87%E9%80%89%E6%95%B0%E6%8D%AE%E9%9B%86.md">数据集预览</a>，挑一个自己感兴趣的先~</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://capallen.gitee.io/2018/%E7%AC%AC%E4%BA%94%E5%91%A8%E5%AF%BC%E5%AD%A6.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Allen Jia">
      <meta itemprop="description" content="数据 算法 分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Allen's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/%E7%AC%AC%E4%BA%94%E5%91%A8%E5%AF%BC%E5%AD%A6.html" class="post-title-link" itemprop="url">每周导学-第五周-阶段总结&项目二优化</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-08-13 20:30:09" itemprop="dateCreated datePublished" datetime="2018-08-13T20:30:09+08:00">2018-08-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2019-06-06 10:32:23" itemprop="dateModified" datetime="2019-06-06T10:32:23+08:00">2019-06-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/DAND-VIP/" itemprop="url" rel="index"><span itemprop="name">DAND-VIP</span></a>
        </span>
    </span>

  
    <span id="/2018/%E7%AC%AC%E4%BA%94%E5%91%A8%E5%AF%BC%E5%AD%A6.html" class="post-meta-item leancloud_visitors" data-flag-title="每周导学-第五周-阶段总结&项目二优化" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/%E7%AC%AC%E4%BA%94%E5%91%A8%E5%AF%BC%E5%AD%A6.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/%E7%AC%AC%E4%BA%94%E5%91%A8%E5%AF%BC%E5%AD%A6.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>Don’t let yesterday take up too much of today.</p>
</blockquote>
<p>Hi，同学们，本周是P2阶段的最后一周了，我们用了两周时间学习了数据类型、控制流以及脚本编写等Python基础内容，还学习了Python做数据分析两个关键的第三方包——NumPy和Pandas，接下来用了一周的时间挑战项目二，相信大家经过了高强度的学习+实战化项目，对Python及Pandas一定有了更深刻更扎实的了解，那么，本周呢我们的针对P2的<strong>知识点</strong>进行<strong>总结回顾</strong>，对<strong>项目二</strong>进行修缮<strong>拓展</strong>，为下一阶段打好基础！ </p>
<table>
<thead>
<tr>
<th>时间</th>
<th>学习重点</th>
<th>对应课程</th>
</tr>
</thead>
<tbody><tr>
<td>第1周</td>
<td>Python基础内容</td>
<td>数据类型和运算符、控制流、函数、脚本编写</td>
</tr>
<tr>
<td>第2周</td>
<td>Python数据处理内容</td>
<td>Numpy &amp; Pandas - 第一、二部分</td>
</tr>
<tr>
<td>第3周</td>
<td>完成项目</td>
<td>项目：探索美国共享单车数据</td>
</tr>
<tr>
<td><strong>第4周</strong></td>
<td><strong>项目修改与通过</strong></td>
<td><strong>修改项目、查缺补漏、休息调整</strong></td>
</tr>
</tbody></table>
<p>对于非小白同学来说 ，本阶段内容不是很难，希望你们能在三周内完成并通过项目；  </p>
<p>对于小白来说，本阶段可能是个挑战，请一定要<strong>保持自信</strong>，请一定要坚持<strong>学习和总结</strong>，如果遇到任何<strong>课程问题</strong>请参照如下顺序进行解决：</p>
<ul>
<li>先自行查找问题答案（注意提取关键词），参考：谷歌/百度搜索、<a target="_blank" rel="noopener" href="http://www.runoob.com/python3/python3-tutorial.html">菜鸟教程</a>、<a target="_blank" rel="noopener" href="https://www.csdn.net/">CSDN</a>、<a target="_blank" rel="noopener" href="https://stackoverflow.com/">stack<strong>overflow</strong></a>、<a target="_blank" rel="noopener" href="https://github.com/CapAllen/DAND_VIP_Class/blob/master/%E6%8B%93%E5%B1%95%E5%8F%82%E8%80%83/Python%20for%20Data%20Analysis%2C%202nd%20Edition.pdf"><strong>Python for Data Analysis, 2nd Edition</strong> </a>、<a target="_blank" rel="noopener" href="http://python3-cookbook.readthedocs.io/zh_CN/latest/">Python Cookbook</a></li>
<li>若问题未解决，请将<strong>问题</strong>及其<strong>所在课程章节</strong>发送至微信群，并@助教即可</li>
</ul>
<p>饭要一口一口吃，路要一步一步走，大家不要被任务吓到，跟着导学一步一步来，肯定没问题哒！那我们开始吧！</p>
<blockquote>
<p><strong>注：</strong>本着<strong>按需知情</strong>原则，所涉及的知识点都是在数据分析过程中必须的、常用的，而不是最全面的，想要更丰富，那就需要你们课下再进一步的学习和探索！</p>
</blockquote>
<h1 id="本周目标"><a href="#本周目标" class="headerlink" title="本周目标"></a>本周目标</h1><ul>
<li>顺利通过项目二，自行总结P2阶段的知识点。</li>
</ul>
<h1 id="学习计划"><a href="#学习计划" class="headerlink" title="学习计划"></a>学习计划</h1><table>
<thead>
<tr>
<th>时间</th>
<th>学习资源</th>
<th>学习内容</th>
</tr>
</thead>
<tbody><tr>
<td>周二</td>
<td>微信群 - 每周导学</td>
<td>预览每周导学</td>
</tr>
<tr>
<td>周三、周四</td>
<td>Udacity - Classroom</td>
<td>项目二</td>
</tr>
<tr>
<td>周五</td>
<td>微信/Classin - 1V1</td>
<td>课程难点</td>
</tr>
<tr>
<td>周六</td>
<td>Classin - 优达日</td>
<td>本周学习总结、答疑</td>
</tr>
<tr>
<td>周日</td>
<td>笔记本</td>
<td>总结沉淀</td>
</tr>
<tr>
<td>周一</td>
<td>自主学习</td>
<td>查漏补缺</td>
</tr>
</tbody></table>
<h1 id="阶段总结"><a href="#阶段总结" class="headerlink" title="阶段总结"></a>阶段总结</h1><p>在本阶段，我们学习了：</p>
<ul>
<li>Python的数据类型和运算符</li>
<li>Python的循环、判断语句</li>
<li>如何自定义Python函数</li>
<li>NumPy&amp;Pandas的基本操作</li>
</ul>
<p>除此之外，你还掌握了一些软件的操作：</p>
<ul>
<li>Python IDE的使用（Spyder/Atom）</li>
<li>Jupyter Notebook的使用</li>
<li>Python拓展包的安装部署</li>
</ul>
<p>不知不觉间，你还锻炼了一些软技能：</p>
<ul>
<li><strong>编程思维</strong>（把复杂的问题分解；把新问题变成老问题；凝练解决问题的核心；算法最优解）</li>
<li><strong>自主学习能力</strong>（效率更高，方法更优，持续时间更长）</li>
<li>独立解决问题的能力</li>
<li>更积极、更自信</li>
</ul>
<p>经过这一个月的学习，大家收获颇丰。除了硬技能之外，更重要的是软技能的锻炼，不论你从事何种工作，甚至是在生活中，编程思维和自主学习能力都会让你尝到甜头，所以请继续加油吧！</p>
<h2 id="知识要点"><a href="#知识要点" class="headerlink" title="知识要点"></a>知识要点</h2><h3 id="第二周必学知识点："><a href="#第二周必学知识点：" class="headerlink" title="第二周必学知识点："></a>第二周必学知识点：</h3><ul>
<li><p><a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/07/23/%E7%AC%AC%E4%BA%8C%E5%91%A8%E5%AF%BC%E5%AD%A6/#2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6">Python数据类型和运算符</a></p>
<blockquote>
<p>可以先自行回想一下，python的数据类型有哪些？运算符有哪些？在这一个月的练习和项目中，他们的用途都有哪些？自己在这一章节有没有薄弱点？</p>
</blockquote>
</li>
<li><p><a href="www.capallen.top/dand-vip/2018/07/23/%E7%AC%AC%E4%BA%8C%E5%91%A8%E5%AF%BC%E5%AD%A6/#3-%E6%8E%A7%E5%88%B6%E6%B5%81">控制流</a></p>
<blockquote>
<p>重点要<strong>熟练</strong>掌握：一个条件语句和两个循环语句的用法，两个循环语句的区别，break与continue的用法，再就是enumerate函数的用法。</p>
</blockquote>
</li>
<li><p><a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/07/23/%E7%AC%AC%E4%BA%8C%E5%91%A8%E5%AF%BC%E5%AD%A6/#4-%E5%87%BD%E6%95%B0">函数</a></p>
<blockquote>
<p>函数的定义及变量的作用域是要熟练掌握的，lambda的话，了解就好。</p>
</blockquote>
</li>
</ul>
<h3 id="第三周必学知识点："><a href="#第三周必学知识点：" class="headerlink" title="第三周必学知识点："></a>第三周必学知识点：</h3><ul>
<li><p>Pandas数据结构</p>
<blockquote>
<p>对于Pandas中两大最重要的数据类型：Series(一维)和DataFrame(二维)，熟悉他们的结构和特点，这是你用python Pandas做数据分析的基础。</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/08/01/%E7%AC%AC%E4%B8%89%E5%91%A8%E5%AF%BC%E5%AD%A6/#13%E7%BB%83%E4%B9%A0pandas-series">Pandas Series</a></li>
<li><a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/08/01/%E7%AC%AC%E4%B8%89%E5%91%A8%E5%AF%BC%E5%AD%A6/#5numpy%E5%92%8Cpandas%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">Pandas DataFrame</a></li>
</ul>
</li>
<li><p>Pandas数据操作</p>
<blockquote>
<p>本阶段主要是对Pandas中数据的基本操作进行了讲解，在P3阶段会有更多的操作技巧及练习等着大家！</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/08/01/%E7%AC%AC%E4%B8%89%E5%91%A8%E5%AF%BC%E5%AD%A6/#14%E7%BB%83%E4%B9%A0series%E7%B4%A2%E5%BC%95">索引</a></li>
<li><a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/08/01/%E7%AC%AC%E4%B8%89%E5%91%A8%E5%AF%BC%E5%AD%A6/#6%E7%BB%83%E4%B9%A0%E8%AE%BF%E9%97%AEdataframe%E5%85%83%E7%B4%A0">访问数据</a></li>
</ul>
</li>
<li><p>Pandas自定义函数的调用</p>
<blockquote>
<p>常用的是apply，但两者的区别要搞清楚</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/08/01/%E7%AC%AC%E4%B8%89%E5%91%A8%E5%AF%BC%E5%AD%A6/#17%E7%BB%83%E4%B9%A0pandas-series-apply">Series apply</a></li>
<li><a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/08/01/%E7%AC%AC%E4%B8%89%E5%91%A8%E5%AF%BC%E5%AD%A6/#11%E7%BB%83%E4%B9%A0dataframe-applymap">DataFrame applymap</a></li>
</ul>
</li>
<li><p>Pandas常用数据筛选函数</p>
<blockquote>
<p>这个的话，本章涉及不多，可以等到P3学完一起总结，按照数据分析的流程，把各个阶段常用的函数做个用法列举，效果更好。</p>
</blockquote>
<ul>
<li>分类筛选<a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/08/01/%E7%AC%AC%E4%B8%89%E5%91%A8%E5%AF%BC%E5%AD%A6/#16%E7%BB%83%E4%B9%A0pandas-groupby">groupby</a></li>
</ul>
</li>
</ul>
<h2 id="项目优化"><a href="#项目优化" class="headerlink" title="项目优化"></a>项目优化</h2><p>虽然收到了项目二的通关邮件，但是你对自己的代码或者项目的完成度满意吗？大家在Uda学习，也是为生活所迫，想求上进，那既然是求上进，就别上到90%就放松下来，做就做到100%，<strong>一定要对自己负责</strong>，所以大家通关后，我会拉大家到【代码互评】的微信群，大家分享代码、分享思路，交流心得，相互挑刺，想想就觉得很棒！所以说，大家讨论完之后，这个板块还会再进行更新~</p>
<p>废话不多说，那么，我先来抛砖引玉，给大家简单展示下我认为的一些可以尝试去改进的地方：</p>
<h3 id="get-filters-函数"><a href="#get-filters-函数" class="headerlink" title="get_filters()函数"></a>get_filters()函数</h3><ul>
<li><p>用户输入错误时提示再次输入；</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ... <span class="keyword">in</span> ...:</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;提示：&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>兼容大小写，只要用户输入了正确数据，即可进行响应，比如说用户想要筛选城市chicago的数据，但是不小心输成了Chicago，也能进行正确响应。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">city = city_input.lower()</span><br></pre></td></tr></table></figure>
</li>
<li><p>利用循环和函数简化重复性代码</p>
<p>比如说，最开始我写的代码是：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_filters</span>():</span></span><br><span class="line">   print(<span class="string">&#x27;Hello! Let\&#x27;s explore some US bikeshare data!&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#定义列表</span></span><br><span class="line">    city_list = [<span class="string">&#x27;chicago&#x27;</span>,<span class="string">&#x27;new york city&#x27;</span>,<span class="string">&#x27;washington&#x27;</span>]</span><br><span class="line">    month_list = [<span class="string">&#x27;all&#x27;</span>,<span class="string">&#x27;january&#x27;</span>,<span class="string">&#x27;february&#x27;</span>,<span class="string">&#x27;march&#x27;</span>,<span class="string">&#x27;april&#x27;</span>,<span class="string">&#x27;may&#x27;</span>,<span class="string">&#x27;june&#x27;</span>]</span><br><span class="line">    day_list = [<span class="string">&#x27;all&#x27;</span>,<span class="string">&#x27;monday&#x27;</span>,<span class="string">&#x27;tuesday&#x27;</span>,<span class="string">&#x27;wednesday&#x27;</span>,<span class="string">&#x27;thursday&#x27;</span>,<span class="string">&#x27;friday&#x27;</span>,<span class="string">&#x27;saturday&#x27;</span>,<span class="string">&#x27;sunday&#x27;</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        city = input(<span class="string">&#x27;Q1/3:which city do you want to analyst?(chicago,new york city or washington)\n&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> city <span class="keyword">in</span> city_list:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">&#x27;please ensure your input is one of the examples!&#x27;</span>)</span><br><span class="line">       </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        month = input(<span class="string">&#x27;Q2/3:which month do you want to analyst?(all,january, february, ... , june)\n&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> month <span class="keyword">in</span> month_list:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">&#x27;please ensure your input is one of the examples!&#x27;</span>)</span><br><span class="line">       </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        day = input(<span class="string">&#x27;Q3/3:which day do you want to analyst?(all, monday, tuesday, ... sunday)\n&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> day <span class="keyword">in</span> day_list:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">&#x27;please ensure your input is one of the examples!&#x27;</span>)   </span><br><span class="line"></span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="number">40</span>)</span><br><span class="line">    <span class="keyword">return</span> (city, month, day)</span><br></pre></td></tr></table></figure>

<p>如上，对于city、month和day三个变量来说，代码是重复的，只是变量不同输出的话术不同而已，那么就可以将这三个变量和话术对应成某个函数的参数，然后通过调用这个函数，就可以简化重复的代码。</p>
<p>这个函数大概可以是这样：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">phrase_input</span>(<span class="params">input_prompt,err_prompt,option_list</span>):</span></span><br><span class="line">    </span><br><span class="line">    user_input = input(input_prompt)</span><br><span class="line">    <span class="keyword">while</span> user_input <span class="keyword">not</span> <span class="keyword">in</span> option_list:</span><br><span class="line">        user_input = input(err_prompt)</span><br><span class="line">    <span class="keyword">return</span> (user_input)</span><br></pre></td></tr></table></figure>

<p>改善后的代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">phrase_input</span>(<span class="params">input_prompt,err_prompt,option_list,get_value</span>):</span></span><br><span class="line">    </span><br><span class="line">    user_input = input(input_prompt)</span><br><span class="line">    <span class="keyword">while</span> get_value(user_input) <span class="keyword">not</span> <span class="keyword">in</span> option_list:</span><br><span class="line">        user_input = input(err_prompt)</span><br><span class="line">    <span class="keyword">return</span> (user_input.title())</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_filters</span>():</span></span><br><span class="line">   print(<span class="string">&#x27;Hello! Let\&#x27;s explore some US bikeshare data!&#x27;</span>)</span><br><span class="line">       </span><br><span class="line">    <span class="comment">#定义列表</span></span><br><span class="line">   city_list = [<span class="string">&#x27;chicago&#x27;</span>,<span class="string">&#x27;new york city&#x27;</span>,<span class="string">&#x27;washington&#x27;</span>]</span><br><span class="line">   month_list = [<span class="string">&#x27;all&#x27;</span>,<span class="string">&#x27;january&#x27;</span>,<span class="string">&#x27;february&#x27;</span>,<span class="string">&#x27;march&#x27;</span>,<span class="string">&#x27;april&#x27;</span>,<span class="string">&#x27;may&#x27;</span>,<span class="string">&#x27;june&#x27;</span>]</span><br><span class="line">   day_list = [<span class="string">&#x27;all&#x27;</span>,<span class="string">&#x27;monday&#x27;</span>,<span class="string">&#x27;tuesday&#x27;</span>,<span class="string">&#x27;wednesday&#x27;</span>,<span class="string">&#x27;thursday&#x27;</span>,<span class="string">&#x27;friday&#x27;</span>,<span class="string">&#x27;saturday&#x27;</span>,<span class="string">&#x27;sunday&#x27;</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#定义话术</span></span><br><span class="line">   city_prompt = <span class="string">&#x27;Q1/3:which city do you want to analyst?(Chicago,New York city or Washington)\n&#x27;</span></span><br><span class="line">   month_prompt = <span class="string">&#x27;Q2/3:which month do you want to analyst?(All,January, February, ... , June)\n&#x27;</span></span><br><span class="line">   day_prompt = <span class="string">&#x27;Q3/3:which day do you want to analyst?(All, Monday, Tuesday, ... Sunday)\n&#x27;</span></span><br><span class="line">   err_prompt = <span class="string">&#x27;Please ensure your input is one of the examples above. Please input it again:\n&#x27;</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment">#定义get_value函数，取输入的小写值</span></span><br><span class="line">   get_value = <span class="keyword">lambda</span> x: x.lower()</span><br><span class="line">   </span><br><span class="line">    <span class="comment">#调用函数</span></span><br><span class="line">   city = phrase_input(city_prompt,err_prompt,city_list,get_value)</span><br><span class="line">   month = phrase_input(month_prompt,err_prompt,month_list,get_value)</span><br><span class="line">   day = phrase_input(day_prompt,err_prompt,day_list,get_value)</span><br><span class="line">   </span><br><span class="line">   print(<span class="string">&#x27;-&#x27;</span>*<span class="number">40</span>)</span><br><span class="line">   print(<span class="string">&#x27;Your input is : \n&#x27;</span>)</span><br><span class="line">   print(city, month, day)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="trip-duration-stats-函数"><a href="#trip-duration-stats-函数" class="headerlink" title="trip_duration_stats()函数"></a>trip_duration_stats()函数</h3><p>这个函数最大的问题就是，输出不够人性化，因为计算得来的时间计算值是<code>xxx秒</code>，而我们平时生活中，对于大于60s的时间更偏向于说<code>xxx分</code>，或者<code>xxx小时</code>、<code>xxx天</code>。所以这里，为了优化输出，需要我们定义一个<code>时间转换函数</code>，把计算结果，更人性化地呈现。</p>
<p>最终代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">changeTime</span>(<span class="params">allTime</span>):</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#定义一天、一小时、一分钟的秒数</span></span><br><span class="line">    day = <span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span></span><br><span class="line">    hour = <span class="number">60</span>*<span class="number">60</span></span><br><span class="line">    min = <span class="number">60</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#小于60s时，利用math.ceil函数向上取整</span></span><br><span class="line">    <span class="keyword">if</span> allTime &lt;<span class="number">60</span>:        </span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot;%d sec(s)&quot;</span>%math.ceil(allTime))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#利用divmod函数，获取模和余数的元组，将模作为 天，将余数继续进行函数</span></span><br><span class="line">    <span class="keyword">elif</span>  allTime &gt; day:</span><br><span class="line">        days = divmod(allTime,day) </span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot;%d day(s), %s&quot;</span>%(int(days[<span class="number">0</span>]),changeTime(days[<span class="number">1</span>])))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#跟上面同理</span></span><br><span class="line">    <span class="keyword">elif</span> allTime &gt; hour:</span><br><span class="line">        hours = divmod(allTime,hour)</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&#x27;%d hour(s), %s&#x27;</span>%(int(hours[<span class="number">0</span>]),changeTime(hours[<span class="number">1</span>])))</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        mins = divmod(allTime,min)</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot;%d min(s), %d sec(s)&quot;</span>%(int(mins[<span class="number">0</span>]),math.ceil(mins[<span class="number">1</span>])))</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trip_duration_stats</span>(<span class="params">df</span>):</span></span><br><span class="line">    </span><br><span class="line">    print(<span class="string">&#x27;\nCalculating Trip Duration...\n&#x27;</span>)</span><br><span class="line">    start_time = time.time()</span><br><span class="line"></span><br><span class="line">    total_duration = df[<span class="string">&#x27;Trip Duration&#x27;</span>].sum()</span><br><span class="line"></span><br><span class="line">    mean_duration = df[<span class="string">&#x27;Trip Duration&#x27;</span>].mean()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#利用format进行格式化输出，调用changeTime函数</span></span><br><span class="line">    print(<span class="string">&#x27;The total travel time is around &#123;&#125; .&#x27;</span>.format(changeTime(total_duration)))</span><br><span class="line">    print(<span class="string">&#x27;The mean of travel time is around &#123;&#125; .&#x27;</span>.format(changeTime(mean_duration)))</span><br><span class="line">    </span><br><span class="line">    print(<span class="string">&quot;\nThis took %s seconds.&quot;</span> % (time.time() - start_time))</span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="number">40</span>)</span><br></pre></td></tr></table></figure>

<p>出现的一些不熟悉的代码/函数详解可以戳：</p>
<p><a target="_blank" rel="noopener" href="http://www.runoob.com/python3/python3-func-number-ceil.html">ceil</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zyq-blog/p/5946905.html">利用%和format进行输出格式化</a></p>
<p><a target="_blank" rel="noopener" href="http://www.runoob.com/python/python-func-divmod.html">devmod</a></p>
<h3 id="user-stats-函数"><a href="#user-stats-函数" class="headerlink" title="user_stats()函数"></a>user_stats()函数</h3><p>这个函数面临的问题是由于数据集导致的，因为在Washington的数据缺失了性别和出生年份列，所以本函数在调用Washington数据的时候会报错，那这里就需要try和except登场进行异常处理了。</p>
<p>这里的相关知识可以参考<a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/07/23/%E7%AC%AC%E4%BA%8C%E5%91%A8%E5%AF%BC%E5%AD%A6/#%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8">第二周导学</a>。</p>
<h3 id="其他待优化的问题"><a href="#其他待优化的问题" class="headerlink" title="其他待优化的问题"></a>其他待优化的问题</h3><p>比如说，你还想对数据中的哪些问题感兴趣，可以自定函数进行展示；</p>
<p>或者，你的代码并不符合PEP8的标准，可以参考<a target="_blank" rel="noopener" href="http://www.capallen.top/dand-vip/2018/07/23/%E7%AC%AC%E4%BA%8C%E5%91%A8%E5%AF%BC%E5%AD%A6/#1-python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95">第二周导学</a>，进行查证。</p>
<p>…</p>
<h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>经过如上的过程，大家也能了解到代码都不是一蹴而就的，而是随着你项目的深入不断进行修改调试的过程，这和你的学习一样，是一个不断试错，螺旋上升的过程。所以说，<strong>不要怕不会，更不要怕做错</strong>，不要丢了信心和耐心，把不会的掌握，把问题解决，这才是你应该做的，大家加油！！！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://capallen.gitee.io/2018/%E9%A1%B9%E7%9B%AE%E4%BA%8C.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Allen Jia">
      <meta itemprop="description" content="数据 算法 分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Allen's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/%E9%A1%B9%E7%9B%AE%E4%BA%8C.html" class="post-title-link" itemprop="url">每周导学-第四周-项目二</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-08-06 20:30:09" itemprop="dateCreated datePublished" datetime="2018-08-06T20:30:09+08:00">2018-08-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2019-06-06 10:32:23" itemprop="dateModified" datetime="2019-06-06T10:32:23+08:00">2019-06-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/DAND-VIP/" itemprop="url" rel="index"><span itemprop="name">DAND-VIP</span></a>
        </span>
    </span>

  
    <span id="/2018/%E9%A1%B9%E7%9B%AE%E4%BA%8C.html" class="post-meta-item leancloud_visitors" data-flag-title="每周导学-第四周-项目二" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/%E9%A1%B9%E7%9B%AE%E4%BA%8C.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/%E9%A1%B9%E7%9B%AE%E4%BA%8C.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>Don’t let yesterday take up too much of today.</p>
</blockquote>
<p>Hi，同学们，本周已经是P2阶段的第三周了，前两周我们学习了数据类型、控制流以及脚本编写等Python基础内容，还学习了Python做数据分析两个关键的第三方包——NumPy和Pandas，那么，接下来就到了检验学习、提高实战能力的时候了！</p>
<p>这周我们要挑战<strong>项目二：探索美国共享单车数据</strong>，争取能在本周完成项目并提交，加油！</p>
<table>
<thead>
<tr>
<th>时间</th>
<th>学习重点</th>
<th>对应课程</th>
</tr>
</thead>
<tbody><tr>
<td>第1周</td>
<td>Python基础内容</td>
<td>数据类型和运算符、控制流、函数、脚本编写</td>
</tr>
<tr>
<td>第2周</td>
<td>Python数据处理内容</td>
<td>Numpy &amp; Pandas - 第一、二部分</td>
</tr>
<tr>
<td><strong>第3周</strong></td>
<td><strong>完成项目</strong></td>
<td><strong>项目：探索美国共享单车数据</strong></td>
</tr>
<tr>
<td>第4周</td>
<td>项目修改与通过</td>
<td>修改项目、查缺补漏、休息调整</td>
</tr>
</tbody></table>
<p>对于非小白同学来说 ，本阶段内容不是很难，希望你们能在三周内完成并通过项目；  </p>
<p>对于小白来说，本阶段可能是个挑战，请一定要<strong>保持自信</strong>，请一定要坚持<strong>学习和总结</strong>，如果遇到任何<strong>课程问题</strong>请参照如下顺序进行解决：</p>
<ul>
<li>先自行查找问题答案（注意提取关键词），参考：谷歌/百度搜索、<a target="_blank" rel="noopener" href="http://www.runoob.com/python3/python3-tutorial.html">菜鸟教程</a>、<a target="_blank" rel="noopener" href="https://www.csdn.net/">CSDN</a>、<a target="_blank" rel="noopener" href="https://stackoverflow.com/">stack<strong>overflow</strong></a>、<a target="_blank" rel="noopener" href="https://github.com/CapAllen/DAND_VIP_Class/blob/master/%E6%8B%93%E5%B1%95%E5%8F%82%E8%80%83/Python%20for%20Data%20Analysis%2C%202nd%20Edition.pdf"><strong>Python for Data Analysis, 2nd Edition</strong> </a>、<a target="_blank" rel="noopener" href="http://python3-cookbook.readthedocs.io/zh_CN/latest/">Python Cookbook</a></li>
<li>若问题未解决，请将<strong>问题</strong>及其<strong>所在课程章节</strong>发送至微信群，并@助教即可</li>
</ul>
<p>饭要一口一口吃，路要一步一步走，大家不要被任务吓到，跟着导学一步一步来，肯定没问题哒！那我们开始吧！</p>
<blockquote>
<p><strong>注：</strong>本着<strong>按需知情</strong>原则，所涉及的知识点都是在数据分析过程中必须的、常用的，而不是最全面的，想要更丰富，那就需要你们课下再进一步的学习和探索！</p>
</blockquote>
<h1 id="本周目标"><a href="#本周目标" class="headerlink" title="本周目标"></a>本周目标</h1><ul>
<li>完成并提交项目二。</li>
</ul>
<h1 id="学习计划"><a href="#学习计划" class="headerlink" title="学习计划"></a>学习计划</h1><table>
<thead>
<tr>
<th>时间</th>
<th>学习资源</th>
<th>学习内容</th>
</tr>
</thead>
<tbody><tr>
<td>周二</td>
<td>微信群 - 每周导学</td>
<td>预览每周导学</td>
</tr>
<tr>
<td>周三、周四</td>
<td>Udacity - Classroom</td>
<td>数据类型 - 脚本编写</td>
</tr>
<tr>
<td>周五</td>
<td>微信/Classin - 1V1</td>
<td>课程难点</td>
</tr>
<tr>
<td>周六</td>
<td>Classin - 优达日</td>
<td>本周学习总结、答疑</td>
</tr>
<tr>
<td>周日</td>
<td>笔记本</td>
<td>总结沉淀</td>
</tr>
<tr>
<td>周一</td>
<td>自主学习</td>
<td>查漏补缺</td>
</tr>
</tbody></table>
<h1 id="项目准备"><a href="#项目准备" class="headerlink" title="项目准备"></a>项目准备</h1><h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><p>强烈建议大家完成本地环境的搭建，在本地完成此项目。搭建本地环境的方法请参考<a target="_blank" rel="noopener" href="https://classroom.udacity.com/nanodegrees/nd002-cn-basic-vip/parts/e566ad37-6119-4448-a6bc-7ade73ef3992">Anaconda的安装与配置</a>一节，完成后你将获得本项目中会用到的关键软件：<strong>Spyder</strong>和<strong>Jupyter Notebook</strong>。</p>
<h2 id="文件准备"><a href="#文件准备" class="headerlink" title="文件准备"></a>文件准备</h2><p>在此项目中，你将比较以下三座城市的共享单车使用情况：芝加哥、纽约市和华盛顿特区。这些数据由 <a target="_blank" rel="noopener" href="https://www.motivateco.com/">Motivate</a> 提供。</p>
<p>数据和项目文件下载，请参考如下步骤：</p>
<p><img src="https://s1.ax1x.com/2018/08/06/PrrMp8.png" alt="PrrMp8.png"></p>
<p><strong>若下载失败，请微信联系我索取。</strong></p>
<blockquote>
<p><strong>注意</strong>：因为项目文件中使用的是python2，所以在本地环境进行编写时，请按照你的版本对个别代码进行修改，以契合你的版本。完成就可以直接提交，不必再转回python2的语法。</p>
</blockquote>
<h2 id="方法准备"><a href="#方法准备" class="headerlink" title="方法准备"></a>方法准备</h2><p>在本项目中，你需要完成多个函数的编写，可以按照如下方法提高工作效率：</p>
<ol>
<li><strong>确定</strong>第一个函数的<strong>功能需求</strong>，并构思代码；</li>
<li>利用<strong>Jupyter Notebook</strong>对你构思的<strong>代码进行测试</strong>；</li>
<li>若代码测试功能符合要求，则复制代码至<strong>Spyder</strong>，完成第一个函数的编写；</li>
<li>保存为.py格式的文件，在<strong>本地</strong>进行功能<strong>测试</strong>，看是否复合项目要求；</li>
<li>若满足要求，则按照步骤1-4对第二个函数进行编写，如此往复，完成整个项目。</li>
</ol>
<p>大家刚打开项目文件时，先不要被代码量吓到，沉下心来，一步步做，逐一击破，一定没问题哒！</p>
<h1 id="项目流程"><a href="#项目流程" class="headerlink" title="项目流程"></a>项目流程</h1><h2 id="项目概述"><a href="#项目概述" class="headerlink" title="项目概述"></a>项目概述</h2><p>在此项目中，你将利用 Python  探索与以下三大美国城市的自行车共享系统相关的数据：芝加哥、纽约和华盛顿特区。你将编写代码<strong>导入数据</strong>，并通过<strong>计算描述性统计数据回答有趣的问题</strong>。你还将<strong>写一个脚本</strong>，该脚本会接受原始输入并<strong>在终端中创建交互式体验</strong>，以展现这些统计信息。 </p>
<blockquote>
<p>读完项目概述，大概也能了解到项目的要求有哪些了，也就是需要你去完成的任务：</p>
<ul>
<li>需要你编写一个脚本</li>
<li>在脚本中，能够读取数据文件</li>
<li>能够根据用户输入，完成相关统计计算，并进行回答展示结果</li>
</ul>
</blockquote>
<h2 id="数据集说明"><a href="#数据集说明" class="headerlink" title="数据集说明"></a>数据集说明</h2><p>我们提供了三座城市 2017 年上半年的数据。三个数据文件都包含相同的核心列：</p>
<ul>
<li>起始时间 Start Time（例如 2017-01-01 00:07:57）</li>
<li>结束时间 End Time（例如 2017-01-01 00:20:53）</li>
<li>骑行时长 Trip Duration（例如 776 秒）</li>
<li>起始车站 Start Station（例如百老汇街和巴里大道）</li>
<li>结束车站 End Station（例如塞奇威克街和北大道）</li>
<li>用户类型 User Type（订阅者 Subscriber/Registered 或客户Customer/Casual）</li>
</ul>
<p>芝加哥和纽约市文件还包含以下两列：</p>
<ul>
<li>性别 Gender</li>
<li>出生年份 Birth Year</li>
</ul>
<blockquote>
<p>上述数据集说明中，我们能知道三个数据集中包含有哪些列，列名是什么，这在之后进行函数编写的时候，是一个非常重要的参考。</p>
</blockquote>
<h2 id="项目要求"><a href="#项目要求" class="headerlink" title="项目要求"></a>项目要求</h2><ul>
<li>请一定要规范注释：<ul>
<li>关键代码注释，进行解释；</li>
<li>函数功能解释文档</li>
</ul>
</li>
<li>请保存你初次完成项目的文件作为project_0，之后先备份再修改，这样直到项目审阅成功，你能很明显的对比出自己最开始出现的问题及思考问题的短板。</li>
</ul>
<h2 id="get-filters-函数"><a href="#get-filters-函数" class="headerlink" title="get_filters()函数"></a>get_filters()函数</h2><h3 id="代码详解："><a href="#代码详解：" class="headerlink" title="代码详解："></a>代码详解：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_filters</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    函数需要询问用户三个问题来获取筛选数据的三个条件：城市、月份和周几。</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">	函数返回的是一个元组，三个元素的数据类型都为str。    </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    print(<span class="string">&#x27;Hello! Let\&#x27;s explore some US bikeshare data!&#x27;</span>)</span><br><span class="line">    <span class="comment"># TO DO: get user input for city (chicago, new york city, washington). HINT: Use a while loop to handle invalid inputs</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: get user input for month (all, january, february, ... , june)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: get user input for day of week (all, monday, tuesday, ... sunday)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="number">40</span>)</span><br><span class="line">    <span class="keyword">return</span> city, month, day</span><br></pre></td></tr></table></figure>

<h3 id="关键代码提示："><a href="#关键代码提示：" class="headerlink" title="关键代码提示："></a>关键代码提示：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取键盘输入</span></span><br><span class="line">input()</span><br><span class="line"><span class="comment">#循环</span></span><br><span class="line"><span class="keyword">while</span> ... :</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<h3 id="输出示例："><a href="#输出示例：" class="headerlink" title="输出示例："></a>输出示例：</h3><p><img src="https://s1.ax1x.com/2018/08/06/PrrX38.png" alt="PrrX38.png"></p>
<h2 id="load-data-函数"><a href="#load-data-函数" class="headerlink" title="load_data()函数"></a>load_data()函数</h2><h3 id="代码详解：-1"><a href="#代码详解：-1" class="headerlink" title="代码详解："></a>代码详解：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_data</span>(<span class="params">city, month, day</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">   该函数是对get_filters函数的一个承接，get_filters函数获取筛选条件，本函数就针对筛选条件进行数据读取。</span></span><br><span class="line"><span class="string">   所以本函数需要三个关键数据作为参数输入，即：城市、月份和周几。</span></span><br><span class="line"><span class="string">   函数的输出为筛选后的数据。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        (str) city - name of the city to analyze</span></span><br><span class="line"><span class="string">        (str) month - name of the month to filter by, or &quot;all&quot; to apply no month filter</span></span><br><span class="line"><span class="string">        (str) day - name of the day of week to filter by, or &quot;all&quot; to apply no day filter</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        df - Pandas DataFrame containing city data filtered by month and day</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> df</span><br></pre></td></tr></table></figure>

<h3 id="关键代码提示：-1"><a href="#关键代码提示：-1" class="headerlink" title="关键代码提示："></a>关键代码提示：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pandas读取文档</span></span><br><span class="line">pd.read_csv</span><br><span class="line"><span class="comment">#datetime格式转换</span></span><br><span class="line">pd.to_datetime</span><br><span class="line"><span class="comment">#获取datetime的月份？周几？</span></span><br><span class="line">datetime.dt.month</span><br><span class="line">datetime.dt.weekday</span><br><span class="line"><span class="comment">#判断语句</span></span><br><span class="line"><span class="keyword">if</span> ... :</span><br><span class="line">    ...    </span><br></pre></td></tr></table></figure>

<h2 id="time-stats-函数"><a href="#time-stats-函数" class="headerlink" title="time_stats()函数"></a>time_stats()函数</h2><h3 id="代码详解：-2"><a href="#代码详解：-2" class="headerlink" title="代码详解："></a>代码详解：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">time_stats</span>(<span class="params">df</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;时间计算函数</span></span><br><span class="line"><span class="string">    针对筛选出的数据(df)，对出现频次最高的月份、周几和小时进行统计，并输出结果</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    print(<span class="string">&#x27;\nCalculating The Most Frequent Times of Travel...\n&#x27;</span>)</span><br><span class="line">    start_time = time.time()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: display the most common month</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: display the most common day of week</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: display the most common start hour</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    print(<span class="string">&quot;\nThis took %s seconds.&quot;</span> % (time.time() - start_time))</span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="number">40</span>)</span><br></pre></td></tr></table></figure>

<h3 id="关键代码提示：-2"><a href="#关键代码提示：-2" class="headerlink" title="关键代码提示："></a>关键代码提示：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取众数</span></span><br><span class="line">pd.Series.mode()</span><br><span class="line"><span class="comment">#输出格式化</span></span><br><span class="line">.format()</span><br></pre></td></tr></table></figure>

<h3 id="输出示例：-1"><a href="#输出示例：-1" class="headerlink" title="输出示例："></a>输出示例：</h3><p><img src="https://s1.ax1x.com/2018/08/06/PrsA3T.png" alt="PrsA3T.png"></p>
<h2 id="station-stats-函数"><a href="#station-stats-函数" class="headerlink" title="station_stats()函数"></a>station_stats()函数</h2><h3 id="代码详解"><a href="#代码详解" class="headerlink" title="代码详解"></a>代码详解</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">station_stats</span>(<span class="params">df</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;站点计算函数</span></span><br><span class="line"><span class="string">    针对筛选出的数据(df)，对出现频次最高的起始站、终点站和起点-终点线进行统计，并输出结果&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    print(<span class="string">&#x27;\nCalculating The Most Popular Stations and Trip...\n&#x27;</span>)</span><br><span class="line">    start_time = time.time()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: display most commonly used start station</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: display most commonly used end station</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: display most frequent combination of start station and end station trip</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    print(<span class="string">&quot;\nThis took %s seconds.&quot;</span> % (time.time() - start_time))</span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="number">40</span>)</span><br></pre></td></tr></table></figure>

<h3 id="关键代码提示：-3"><a href="#关键代码提示：-3" class="headerlink" title="关键代码提示："></a>关键代码提示：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#字符串的链接</span></span><br><span class="line">list_0 = list_1 + list_2</span><br></pre></td></tr></table></figure>

<h3 id="输出示例：-2"><a href="#输出示例：-2" class="headerlink" title="输出示例："></a>输出示例：</h3><p>与time_stats()函数类似</p>
<h2 id="trip-duration-stats-函数"><a href="#trip-duration-stats-函数" class="headerlink" title="trip_duration_stats()函数"></a>trip_duration_stats()函数</h2><h3 id="代码详解-1"><a href="#代码详解-1" class="headerlink" title="代码详解"></a>代码详解</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trip_duration_stats</span>(<span class="params">df</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    通勤时间计算函数</span></span><br><span class="line"><span class="string">    针对筛选出的数据(df)，对通勤总时间和平均时间进行计算，并输出结果</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    print(<span class="string">&#x27;\nCalculating Trip Duration...\n&#x27;</span>)</span><br><span class="line">    start_time = time.time()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: display total travel time</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: display mean travel time</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    print(<span class="string">&quot;\nThis took %s seconds.&quot;</span> % (time.time() - start_time))</span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="number">40</span>)</span><br></pre></td></tr></table></figure>

<h3 id="关键代码提示"><a href="#关键代码提示" class="headerlink" title="关键代码提示"></a>关键代码提示</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#求和</span></span><br><span class="line">.sum()</span><br><span class="line"><span class="comment">#求均值</span></span><br><span class="line">.mean()</span><br></pre></td></tr></table></figure>

<h3 id="输出示例：-3"><a href="#输出示例：-3" class="headerlink" title="输出示例："></a>输出示例：</h3><p><img src="https://s1.ax1x.com/2018/08/06/PrsmDJ.png" alt="PrsmDJ.png">、</p>
<h2 id="user-stats-函数"><a href="#user-stats-函数" class="headerlink" title="user_stats()函数"></a>user_stats()函数</h2><h3 id="代码详解-2"><a href="#代码详解-2" class="headerlink" title="代码详解"></a>代码详解</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">user_stats</span>(<span class="params">df</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    用户计算函数</span></span><br><span class="line"><span class="string">    针对筛选出的数据(df)，对不同类型的用户数量、不同性别的用户数量以及最老、最新和最多的出生年份进行统计、计算，并输出结果</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    print(<span class="string">&#x27;\nCalculating User Stats...\n&#x27;</span>)</span><br><span class="line">    start_time = time.time()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: Display counts of user types</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: Display counts of gender</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># TO DO: Display earliest, most recent, and most common year of birth</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    print(<span class="string">&quot;\nThis took %s seconds.&quot;</span> % (time.time() - start_time))</span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="number">40</span>)</span><br></pre></td></tr></table></figure>

<h3 id="关键代码提示-1"><a href="#关键代码提示-1" class="headerlink" title="关键代码提示"></a>关键代码提示</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pandas 分类同积函数</span></span><br><span class="line">pd.Series.value_counts()</span><br><span class="line"><span class="comment">#最小最大值</span></span><br><span class="line">.min()   .max()</span><br></pre></td></tr></table></figure>

<h3 id="输出示例：-4"><a href="#输出示例：-4" class="headerlink" title="输出示例："></a>输出示例：</h3><p><img src="https://s1.ax1x.com/2018/08/06/Prs38K.png" alt="Prs38K.png"></p>
<h2 id="main-函数"><a href="#main-函数" class="headerlink" title="main()函数"></a>main()函数</h2><p>main()函数是项目中最重要的函数，是程序的入口。</p>
<p>如果你接手一个项目，想快速了解项目中的代码都实现了哪些功能的话，那就要去查看main()函数，这也就是为什么叫<code>main</code>的原因了。</p>
<p>但是在本项目中，该函数并不需要大家去编写或者修改，完成以上所有函数后，就可以尝试在本地进行测试，然后提交啦~</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">def main():</span><br><span class="line">    while True:</span><br><span class="line">        city, month, day &#x3D; get_filters()</span><br><span class="line">        df &#x3D; load_data(city, month, day)</span><br><span class="line"></span><br><span class="line">        time_stats(df)</span><br><span class="line">        station_stats(df)</span><br><span class="line">        trip_duration_stats(df)</span><br><span class="line">        user_stats(df)</span><br><span class="line"></span><br><span class="line">        restart &#x3D; input(&#39;\nWould you like to restart? Enter yes or no.\n&#39;)</span><br><span class="line">        if restart.lower() !&#x3D; &#39;yes&#39;:</span><br><span class="line">            break</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">	main()</span><br></pre></td></tr></table></figure>

<h2 id="项目提交"><a href="#项目提交" class="headerlink" title="项目提交"></a>项目提交</h2><p>项目提交前，请查看：<a target="_blank" rel="noopener" href="https://review.udacity.com/#!/rubrics/1713/view">项目审阅标准</a>，提高你的一次通过率！</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>至此，我们已经完成了本项目，回想一下，在这个项目中：</p>
<ul>
<li>你都用到了哪些python基础函数？</li>
<li>你都用到了哪些pandas中的函数？</li>
<li>在你定义的不同函数中，都解决了哪些问题？</li>
<li>项目通过之后，再想想你编写的函数是完美的吗？或者说，你有哪些想要进一步完善的？<ul>
<li>怎样提高用户的体验？比如：get_filters()函数中，用户输入了NewYork，也可以实现正确识别等等</li>
<li>怎样保持程序不会报错？比如：华盛顿用户的性别和出生年月。</li>
</ul>
</li>
<li>除了项目中的研究内容，你还想继续探究数据中的哪些因素？</li>
</ul>
<h2 id="加油！！！等你们的好消息！！！"><a href="#加油！！！等你们的好消息！！！" class="headerlink" title="加油！！！等你们的好消息！！！"></a>加油！！！等你们的好消息！！！</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://capallen.gitee.io/2018/python%E5%85%A5%E9%97%A8.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Allen Jia">
      <meta itemprop="description" content="数据 算法 分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Allen's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/python%E5%85%A5%E9%97%A8.html" class="post-title-link" itemprop="url">每周导学-第二周-python基础</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-07-23 13:30:09" itemprop="dateCreated datePublished" datetime="2018-07-23T13:30:09+08:00">2018-07-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2019-06-06 10:32:23" itemprop="dateModified" datetime="2019-06-06T10:32:23+08:00">2019-06-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/DAND-VIP/" itemprop="url" rel="index"><span itemprop="name">DAND-VIP</span></a>
        </span>
    </span>

  
    <span id="/2018/python%E5%85%A5%E9%97%A8.html" class="post-meta-item leancloud_visitors" data-flag-title="每周导学-第二周-python基础" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/python%E5%85%A5%E9%97%A8.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/python%E5%85%A5%E9%97%A8.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>Things may come to those who wait, but only the things left by those who hustle.</p>
</blockquote>
<p>Hi，同学们，经过第一周的学习，我们已经完成了项目一，是不是成就感爆棚！自信心爆棚呀！那请继续保持着这样的自信心和学习动力，继续我们的课程吧！</p>
<p>本周开始，我们就进入到了<strong>项目二(P2)阶段</strong>，本阶段总共包含<strong>四周</strong>，在这一个月内，我们要对<strong>Python入门</strong>进行学习，并使用这门新技术完成<strong>项目二：探索美国共享单车数据</strong>，以下便是这四周的学习安排：</p>
<table>
<thead>
<tr>
<th>时间</th>
<th>学习重点</th>
<th>对应课程</th>
</tr>
</thead>
<tbody><tr>
<td><strong>第1周</strong></td>
<td><strong>Python基础内容</strong></td>
<td><strong>数据类型和运算符、控制流、函数、脚本编写</strong></td>
</tr>
<tr>
<td>第2周</td>
<td>Python数据处理内容</td>
<td>Numpy &amp; Pandas - 第一、二部分</td>
</tr>
<tr>
<td>第3周</td>
<td>完成项目</td>
<td>项目：探索美国共享单车数据</td>
</tr>
<tr>
<td>第4周</td>
<td>项目修改与通过</td>
<td>修改项目、查缺补漏、休息调整</td>
</tr>
</tbody></table>
<p>对于非小白同学来说，本阶段内容不是很难，希望你们能在三周内完成并通过项目；  </p>
<p>对于小白来说，本阶段可能是个挑战，请一定要<strong>保持自信</strong>，请一定要坚持<strong>学习和总结</strong>，如果遇到任何<strong>课程问题</strong>请参照如下顺序进行解决：</p>
<ul>
<li>先自行查找问题答案（注意提取关键词），参考：谷歌/百度搜索、<a target="_blank" rel="noopener" href="http://www.runoob.com/python3/python3-tutorial.html">菜鸟教程</a>、<a target="_blank" rel="noopener" href="https://www.csdn.net/">CSDN</a>、<a target="_blank" rel="noopener" href="https://stackoverflow.com/">stack<strong>overflow</strong></a>、<a target="_blank" rel="noopener" href="https://github.com/CapAllen/DAND_VIP_Class/blob/master/%E6%8B%93%E5%B1%95%E5%8F%82%E8%80%83/Python%20for%20Data%20Analysis%2C%202nd%20Edition.pdf"><strong>Python for Data Analysis, 2nd Edition</strong> </a>、<a target="_blank" rel="noopener" href="http://python3-cookbook.readthedocs.io/zh_CN/latest/">Python Cookbook</a></li>
<li>若问题未解决，请将<strong>问题</strong>及其<strong>所在课程章节</strong>发送至微信群，并@助教即可</li>
</ul>
<p>饭要一口一口吃，路要一步一步走，大家不要被任务吓到，跟着导学一步一步来，肯定没问题哒！那我们开始吧！</p>
<blockquote>
<p> <strong>注：</strong>本着<strong>按需知情</strong>原则，所涉及的知识点都是在数据分析过程中必须的、常用的，而不是最全面的，想要更丰富，那就需要你们课下再进一步的学习和探索！</p>
</blockquote>
<h1 id="本周目标"><a href="#本周目标" class="headerlink" title="本周目标"></a>本周目标</h1><ul>
<li>（必选）课程中的<strong>编程入门 - Turtle</strong>为体验课~对没有编程经验的小白同学十分友好，必看！</li>
<li>（必选）学习课程中<strong>数据类型和运算符</strong>至<strong>脚本编写</strong>部分，掌握Python语言的基础。</li>
<li>（可选）配置本地编译环境。</li>
</ul>
<h1 id="学习计划"><a href="#学习计划" class="headerlink" title="学习计划"></a>学习计划</h1><table>
<thead>
<tr>
<th>时间</th>
<th>学习资源</th>
<th>学习内容</th>
</tr>
</thead>
<tbody><tr>
<td>周二</td>
<td>微信群 - 每周导学</td>
<td>预览每周导学</td>
</tr>
<tr>
<td>周三、周四</td>
<td>Udacity - Classroom</td>
<td>数据类型 - 脚本编写</td>
</tr>
<tr>
<td>周五</td>
<td>微信/Classin - 1V1</td>
<td>课程难点</td>
</tr>
<tr>
<td>周六</td>
<td>Classin - 优达日</td>
<td>本周学习总结、答疑</td>
</tr>
<tr>
<td>周日</td>
<td>笔记本</td>
<td>总结沉淀</td>
</tr>
<tr>
<td>周一</td>
<td>自主学习</td>
<td>查漏补缺</td>
</tr>
</tbody></table>
<h1 id="本周知识清单"><a href="#本周知识清单" class="headerlink" title="本周知识清单"></a>本周知识清单</h1><h2 id="编程入门-Turtle"><a href="#编程入门-Turtle" class="headerlink" title="编程入门 - Turtle"></a>编程入门 - Turtle</h2><p>本节中，选择了python中一个画图的工具——Turtle为例，带大家在轻松有趣的画图中，了解python的变量、循环等知识，对没有编程基础的小白同学十分友好<del>相信你们通过这节课，肯定会爱上python的，哈哈</del></p>
<h2 id="0-（可选）环境搭建"><a href="#0-（可选）环境搭建" class="headerlink" title="0 （可选）环境搭建"></a>0 （可选）环境搭建</h2><blockquote>
<p>标题后面小括号中的数字即为对应课程的第几课节，如：算术运算符(2,3)即表示对应课程中为第2、3课节。</p>
</blockquote>
<p>虽然是可选，但强烈推荐大家在本地搭建Python编程环境，你所需的只是有限的几步操作，却能在之后的学习和项目中给你带来无限的便捷！</p>
<ul>
<li><strong>强烈推荐！</strong>按照课程中，第7章节<a target="_blank" rel="noopener" href="https://classroom.udacity.com/nanodegrees/nd002-cn-basic-vip/parts/e566ad37-6119-4448-a6bc-7ade73ef3992"><strong>Anaconda和Jupyter Notebook</strong></a>的详细步骤，完成本地环境的搭建。完成后你将获得：Python的本地IDE<strong>Spyder</strong>以及数据分析师最爱的交互式笔记本<strong>Jupyter Notebook</strong>。</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/LucyGill/article/details/78068985">Spyder的简明教程</a>，光看不顶用，一定要多实操。</li>
<li>另外，还简单推荐一款Python的编辑器Atom，可以在<a target="_blank" rel="noopener" href="https://atom.io/">官网</a>进行下载，然后可以参考博客<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36390239/article/details/79862743">Atom的python插件和常用插件</a>安装一些针对python的拓展包。<strong>没有python相关拓展包的Atom做起python来就像是 用记事本再写代码？</strong>所以一定要装拓展包哦！</li>
<li>Atom的教程，<a target="_blank" rel="noopener" href="https://classroom.udacity.com/nanodegrees/nd002-cn-basic-vip/parts/0ad43cea-8e74-4486-911c-d1fae2f03c97/modules/2ceb59e6-2fa6-4177-a8b8-b6130f45ac3f/lessons/09be9405-95aa-4a89-b800-9b60ccde5476/concepts/f411e93c-03f8-4d45-b60f-d4c2832b63d6#">课程5</a>里面也有涉及到；除此之外，还可参考<a target="_blank" rel="noopener" href="https://www.cnblogs.com/2xkt/p/7566848.html">Atom基本操作</a>，完成拓展包的下载与安装。</li>
</ul>
<p>安装好之后尝试你的第一个python代码吧！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;Hello world!&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="1-Python基础语法"><a href="#1-Python基础语法" class="headerlink" title="1 Python基础语法"></a>1 Python基础语法</h2><p>想要学好一门语言，语法作为语言中<code>法律</code>一样的存在，是非常重要的，所以请大家一定要恪守这个法律，在初学阶段打好基础，不要养成不良的编码习惯。</p>
<ul>
<li><p>行与缩进</p>
<p>python最具特色的就是使用<strong>缩进</strong>来表示代码块， 同一个代码块的语句必须包含相同的缩进空格数，缩进的空格数是可变的，但是有个不成文的规定就是使用<strong>4个空格</strong>的缩进。</p>
<p>比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot;True&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot;False&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>但如果像如下这样就会因为缩进问题报错：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot;Answer&quot;</span>)</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot;True&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot;Answer&quot;</span>)</span><br><span class="line">  <span class="keyword">print</span> (<span class="string">&quot;False&quot;</span>)    <span class="comment"># 缩进不一致，会导致运行错误</span></span><br></pre></td></tr></table></figure>

<p>报错会提示如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IndentationError: unindent does <span class="keyword">not</span> match any outer indentation level</span><br></pre></td></tr></table></figure>

<p>所以，如果你的程序运行后，出现这种错误提示，那你就要检查下，你的代码缩进是不是有问题了。</p>
</li>
<li><p>注释</p>
<p>Python中单行注释以 <strong>#</strong> 开头，多行注释可以用多个 # 号，或者  ‘’’和 “””(主要作声明函数用)，示例如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注释1</span></span><br><span class="line"><span class="comment"># 注释2</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>():</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    this is a print function.</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&#x27;Hello,Python!&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>更多更详细的python编写规范请参考<a target="_blank" rel="noopener" href="https://www.python.org/dev/peps/pep-0008/">PEP8规定</a>。（或者查看<a target="_blank" rel="noopener" href="https://blog.csdn.net/ratsniper/article/details/78954852">中文版</a>）</p>
</li>
</ul>
<h2 id="2-数据类型和运算符"><a href="#2-数据类型和运算符" class="headerlink" title="2 数据类型和运算符"></a>2 数据类型和运算符</h2><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ul>
<li><p>数字(Number)：支持整型(int)、浮点型(float)、布尔型(bool) <strong>(7,8)</strong></p>
<blockquote>
<p>在混合计算中，python会把整型转化成浮点型</p>
</blockquote>
</li>
<li><p>字符串(String)：用单引号 ‘ 或双引号 “ 括起来 <strong>(11,12)</strong></p>
<blockquote>
<p>用+连接，用*重复；字符串截取的格式为：变量[头下标:尾下标]</p>
</blockquote>
</li>
<li><p>列表(List)：写在方括号 [] 之间，用逗号分隔开的元素列表。 元素可以是数字、字符串或者列表**(17-20)**</p>
<blockquote>
<p>用+连接；截取的格式同字符串</p>
</blockquote>
</li>
<li><p>元组(Tuple)：与列表类似，但是不可更改，写在小括号 () 里，元素之间用逗号隔开。**(21,22)**</p>
<blockquote>
<p>用+连接；截取的格式同字符串</p>
</blockquote>
</li>
<li><p>集合(Set)：无序不重复元素的序列。 <strong>(23,24)</strong></p>
<blockquote>
<p>筛选出列表a中的不重复元素，可以直接使用set(a)</p>
</blockquote>
</li>
<li><p>字典(Dictionary) ：写在大括号{ }里，是一个无序的<strong>键(key) : 值(value)**对儿集合</strong>(25-27)**</p>
<blockquote>
<p>key必须为不可变类型，且唯一</p>
</blockquote>
</li>
</ul>
<blockquote>
<p><strong>不可变数据（3 个）：</strong>Number（数字）、String（字符串）、Tuple（元组）；</p>
<p><strong>可变数据（3 个）：</strong>List（列表）、Dictionary（字典）、Set（集合）。 </p>
</blockquote>
<h4 id="相互转换"><a href="#相互转换" class="headerlink" title="相互转换"></a>相互转换</h4><table>
<thead>
<tr>
<th align="center">函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">int(x)</td>
<td>将x转换为一个整数</td>
</tr>
<tr>
<td align="center">float(x)</td>
<td>将x转换到一个浮点数</td>
</tr>
<tr>
<td align="center">str(x)</td>
<td>将对象 x 转换为字符串</td>
</tr>
<tr>
<td align="center">list(s)</td>
<td>将序列 s 转换为一个列表</td>
</tr>
<tr>
<td align="center">set(s)</td>
<td>转换为集合（元素唯一）</td>
</tr>
</tbody></table>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><h4 id="算术运算符-2-3"><a href="#算术运算符-2-3" class="headerlink" title="算术运算符(2,3)"></a>算术运算符(2,3)</h4><p>假设 a = 12, b = 26</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>加，数字就是做加法/字符串就是拼接</td>
<td>a + b 输出结果 28</td>
</tr>
<tr>
<td>-</td>
<td>减，做减法</td>
<td>a - b 输出结果 -28</td>
</tr>
<tr>
<td>*</td>
<td>乘 ，数字的话就是相乘/字符串的话就是重复若干次</td>
<td>a * b 输出结果  312</td>
</tr>
<tr>
<td>/</td>
<td>除，做除法</td>
<td>b / a 输出结果  2.1666666666666665 （自动转化为浮点型）</td>
</tr>
<tr>
<td>%</td>
<td>取模 ， 即做除法后的余数</td>
<td>b % a 输出结果 2</td>
</tr>
<tr>
<td>**</td>
<td>幂</td>
<td>a**b 为12的26次方</td>
</tr>
<tr>
<td>//</td>
<td>取整，即做除法后的商</td>
<td>9//2 输出结果 4 , 9.0//2.0 输出结果 4.0</td>
</tr>
</tbody></table>
<h4 id="赋值运算符-4-5-6"><a href="#赋值运算符-4-5-6" class="headerlink" title="赋值运算符(4,5,6)"></a>赋值运算符(4,5,6)</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>简单的赋值运算符</td>
<td>c = a + b 将 a + b 的运算结果赋值为 c</td>
</tr>
<tr>
<td>+=</td>
<td>加法赋值运算符</td>
<td>c += a 即 c = c + a（常用 i += 1，表示递增）</td>
</tr>
<tr>
<td>-=</td>
<td>减法赋值运算符</td>
<td>c -= a 即 c = c - a</td>
</tr>
</tbody></table>
<h4 id="比较运算符-9-10"><a href="#比较运算符-9-10" class="headerlink" title="比较运算符(9,10)"></a>比较运算符(9,10)</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>==</td>
<td>等于；比较对象是否相等</td>
</tr>
<tr>
<td>!=</td>
<td>不等于； 比较两个对象是否不相等</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于 ； 返回x是否大于y</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于 ；返回x是否小于y。所有比较运算符返回1表示真，返回0表示假。这分别与特殊的变量True和False等价。注意，这些变量名的大写。</td>
</tr>
<tr>
<td>&gt;=</td>
<td>大于等于；返回x是否大于等于y。</td>
</tr>
<tr>
<td>&lt;=</td>
<td>小于等于；返回x是否小于等于y。</td>
</tr>
</tbody></table>
<h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>逻辑表达式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>and</td>
<td>x and y</td>
<td>即逻辑 “与”</td>
</tr>
<tr>
<td>or</td>
<td>x or y</td>
<td>即逻辑 “或”</td>
</tr>
<tr>
<td>not</td>
<td>not x</td>
<td>即逻辑 “非”</td>
</tr>
</tbody></table>
<h4 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h4><p>   即查看指定的序列中是否存在某值，这个序列可以是字符串、列表或者元组。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>in</td>
<td>找到值返回 True，否则返回 False。</td>
</tr>
<tr>
<td>not in</td>
<td>与in相反</td>
</tr>
</tbody></table>
<h4 id="恒等运算符"><a href="#恒等运算符" class="headerlink" title="恒等运算符"></a>恒等运算符</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>is</td>
<td>检查两边是否恒等</td>
</tr>
<tr>
<td>is not</td>
<td>检查两边是否不恒等</td>
</tr>
</tbody></table>
<h4 id="布尔运算符"><a href="#布尔运算符" class="headerlink" title="布尔运算符"></a>布尔运算符</h4><p>python中的True和False有多种条件判断，更详细的请戳<a target="_blank" rel="noopener" href="https://blog.csdn.net/fu_zk/article/details/41728773">Python中的True, False条件判断</a>，请务必查看或者添加书签。</p>
<h2 id="3-控制流"><a href="#3-控制流" class="headerlink" title="3 控制流"></a>3 控制流</h2><h3 id="条件语句if"><a href="#条件语句if" class="headerlink" title="条件语句if"></a>条件语句if</h3><ul>
<li><p>代码模板：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> &lt;条件判断<span class="number">1</span>&gt;:</span><br><span class="line">    &lt;执行<span class="number">1</span>&gt;</span><br><span class="line"><span class="keyword">elif</span> &lt;条件判断<span class="number">2</span>&gt;:</span><br><span class="line">    &lt;执行<span class="number">2</span>&gt;</span><br><span class="line"><span class="keyword">elif</span> &lt;条件判断<span class="number">3</span>&gt;:</span><br><span class="line">    &lt;执行<span class="number">3</span>&gt;</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    &lt;执行<span class="number">4</span>&gt;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：一定要注意缩进与对齐，尤其是有if语句嵌套的情况下。</p>
</li>
</ul>
<h3 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h3><ul>
<li><p>for循环</p>
<ul>
<li><p>for循环可以遍历任何序列的项目，如一个列表或者一个字符串，通俗点说，就是把这个序列中的第一个元素到最后一个元素依次访问并执行冒号后面的语句 </p>
</li>
<li><p>其一般格式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> &lt;元素&gt; <span class="keyword">in</span> &lt;序列&gt;:</span><br><span class="line">    &lt;执行语句&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>while循环</p>
<ul>
<li><p>for循环和while循环，两者的相同点在于都能循环做一件重复的事情；不同点在于，for循环是在序列穷尽时停止，while循环是在条件不成立时停止。 当这个条件永远不为False时，就会出现死循环。</p>
</li>
<li><p>其一般格式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> &lt;判断条件&gt;：</span><br><span class="line">    &lt;执行语句&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>break和continue</p>
<ul>
<li><p>break 语句可以跳出 for 和 while 的循环体。 </p>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> letter <span class="keyword">in</span> <span class="string">&#x27;Udacity&#x27;</span>:     <span class="comment"># for实例</span></span><br><span class="line">   <span class="keyword">if</span> letter == <span class="string">&#x27;t&#x27;</span>:</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">   <span class="keyword">print</span> (<span class="string">&#x27;当前字母为 :&#x27;</span>, letter)</span><br><span class="line">  </span><br><span class="line">i = <span class="number">10</span>                    <span class="comment"># while实例</span></span><br><span class="line"><span class="keyword">while</span> i &gt; <span class="number">0</span>:              </span><br><span class="line">   <span class="keyword">print</span> (<span class="string">&#x27;当期变量值为 :&#x27;</span>, i)</span><br><span class="line">   i -= <span class="number">1</span></span><br><span class="line">   <span class="keyword">if</span> i == <span class="number">5</span>:</span><br><span class="line">      <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<p>执行语句后的输出结果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">当前字母为 : U</span><br><span class="line">当前字母为 : d</span><br><span class="line">当前字母为 : a</span><br><span class="line">当前字母为 : c</span><br><span class="line">当前字母为 : i</span><br><span class="line">当期变量值为 : 10</span><br><span class="line">当期变量值为 : 9</span><br><span class="line">当期变量值为 : 8</span><br><span class="line">当期变量值为 : 7</span><br><span class="line">当期变量值为 : 6</span><br></pre></td></tr></table></figure>
</li>
<li><p>continue是跳过当前循环块中的剩余语句， 也就是跳过continue后面的语句</p>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> letter <span class="keyword">in</span> <span class="string">&#x27;Udacity&#x27;</span>:     <span class="comment"># for实例</span></span><br><span class="line">   <span class="keyword">if</span> letter == <span class="string">&#x27;t&#x27;</span>:</span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">   <span class="keyword">print</span> (<span class="string">&#x27;当前字母为 :&#x27;</span>, letter)</span><br><span class="line">  </span><br><span class="line">i = <span class="number">5</span>                    <span class="comment"># while实例</span></span><br><span class="line"><span class="keyword">while</span> i &gt; <span class="number">0</span>:              </span><br><span class="line">   i -= <span class="number">1</span></span><br><span class="line">   <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&#x27;当期变量值为 :&#x27;</span>, i)</span><br></pre></td></tr></table></figure>

<p>执行代码后的输出结果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">当前字母为 : U</span><br><span class="line">当前字母为 : d</span><br><span class="line">当前字母为 : a</span><br><span class="line">当前字母为 : c</span><br><span class="line">当前字母为 : i</span><br><span class="line">当前字母为 : y</span><br><span class="line">当期变量值为 : 4</span><br><span class="line">当期变量值为 : 2</span><br><span class="line">当期变量值为 : 1</span><br><span class="line">当期变量值为 : 0</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<p>综上呢，for更适合可迭代情况下使用，while更适合不知道要循环多少次的时候使用。</p>
<ul>
<li><p>zip函数</p>
<ul>
<li><p>zip函数的输入位可迭代的对象，输出为对应元素的元组</p>
</li>
<li><p>其一般格式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip([a],[b])</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用zip函数可以节约不少内存</p>
</li>
<li><p>可以使用list()来转换输出zip函数的结果</p>
</li>
<li><p>若zip的两个输入序列长度不一致，则以短的那个为参考</p>
</li>
<li><p>*zip可以理解为zip的反函数，可以将元组解压为列表</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/shomy_liu/article/details/46968651">查看更多</a></p>
</li>
</ul>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">b = [<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">c = [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</span><br><span class="line">zip_1 = zip(a,b)</span><br><span class="line">zip_2 = zip(a,c)</span><br><span class="line">a1,c1 = zip(*zip_1)</span><br></pre></td></tr></table></figure>

<p>执行代码，输出结果为：</p>
<p><img src="https://s1.ax1x.com/2018/11/13/iO2lJH.png" alt="iO2lJH.png"></p>
</li>
<li><p>enumerate函数</p>
<ul>
<li><p>该函数是将一个可遍历的数据对象(如列表、元组或字符串)组合为一个带索引和元素的元组</p>
</li>
<li><p>其一般格式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">enumerate(&lt;序列&gt;, start=<span class="number">0</span>)</span><br><span class="line"><span class="comment">#start表示下标的起始位置</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>常与for…in…联用</p>
</li>
</ul>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;起始下标为默认：&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i,j <span class="keyword">in</span> enumerate(a):</span><br><span class="line">    print(i,j)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;起始下标为1:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i,j <span class="keyword">in</span> enumerate(a,start = <span class="number">1</span>):</span><br><span class="line">    print(i,j)</span><br></pre></td></tr></table></figure>

<p>执行代码，输出结果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">起始下标为默认：</span><br><span class="line">0 1</span><br><span class="line">1 2</span><br><span class="line">起始下标为1:</span><br><span class="line">1 1</span><br><span class="line">2 2</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h3><ul>
<li><p>可以简单理解为：定义一个空表，然后用表中的循环语句填充该表。</p>
</li>
<li><p>其一般格式为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[表达式 for 变量 in 序列或迭代对象]</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="4-函数"><a href="#4-函数" class="headerlink" title="4 函数"></a>4 函数</h2><h3 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h3><ul>
<li><p>其一般格式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 函数名(<span class="params">参数</span>):</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">函数说明</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">	函数语句</span><br></pre></td></tr></table></figure>

<ul>
<li>函数说明是建议非必需</li>
<li>函数语句最后以return(表达式)结尾，则返回值；若不带表达式，则返回None</li>
</ul>
</li>
</ul>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>默认参数和关键字参数不在赘述，在此只讲述一种<strong>不定长参数</strong>。</p>
<ul>
<li>若在参数前面加一个星号<code>*</code>，则将所有未命名的参数以元组的形式导入；</li>
<li>若在参数前面加两个星号<code>**</code>，则参数会以字典的形式导入。</li>
</ul>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tupleprint</span>(<span class="params">a, *tupleb </span>):</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">打印任何传入的参数</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">   <span class="keyword">print</span> (<span class="string">&quot;输出: &quot;</span>)</span><br><span class="line">   <span class="keyword">print</span> (a)</span><br><span class="line">   <span class="keyword">print</span> (tupleb)</span><br><span class="line">   </span><br><span class="line"><span class="comment">#调用函数</span></span><br><span class="line">tupleprint(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>执行代码，输出结果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输出: </span><br><span class="line">1</span><br><span class="line">(2, 3)</span><br></pre></td></tr></table></figure>

<h3 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h3><p>变量的作用域就是能访问该变量的程序部分。</p>
<ul>
<li><p>在python中，只有模块（module），类（class）以及函数（def、lambda）才会引入新的作用域 ，而其他如if/for/while等是不会引入新的作用域的。</p>
</li>
<li><p>全局变量即可以在整个程序范围内都可以访问；局部变量只能在其被定义的函数内调用。</p>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">global_a = <span class="number">0</span> <span class="comment"># 这是一个全局变量</span></span><br><span class="line"><span class="comment"># 定义函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params"> a, b </span>):</span></span><br><span class="line">    global_a = a + b <span class="comment"># global_a在这里是局部变量.</span></span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot;局部变量为: &quot;</span>, global_a)</span><br><span class="line">    <span class="keyword">return</span> global_a</span><br><span class="line"> </span><br><span class="line"><span class="comment">#调用函数</span></span><br><span class="line">sum(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">&quot;全局变量为: &quot;</span>, global_a)</span><br></pre></td></tr></table></figure>

<p>执行代码，输出结果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">局部变量为:  3</span><br><span class="line">全局变量为:  0</span><br></pre></td></tr></table></figure>
</li>
<li><p>na当局部代码想要修改全局变量时，就会用到global和nonlocal关键字了 。</p>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span>():</span></span><br><span class="line">    <span class="keyword">global</span> num  <span class="comment"># 需要使用 global 关键字声明</span></span><br><span class="line">    print(num) </span><br><span class="line">    num = <span class="number">123</span></span><br><span class="line">    print(num)</span><br><span class="line">fun1()</span><br><span class="line">print(num)</span><br></pre></td></tr></table></figure>

<p>执行代码，输出结果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">123</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>nonlocal的用法类似，用在嵌套函数中，当只想修改嵌套作用域的变量而非全局变量时使用。</p>
</li>
</ul>
<h3 id="可更改对象与不可更改对象"><a href="#可更改对象与不可更改对象" class="headerlink" title="可更改对象与不可更改对象"></a>可更改对象与不可更改对象</h3><p>在数据类型中也提到过，python中的可变类型（列表、字典和集合）与不可变类型（数字，字符串和元组），那在函数中作为变量进行传递时会是怎样呢？</p>
<p>示例1：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span>(<span class="params">a</span>):</span></span><br><span class="line">	a = <span class="number">2</span></span><br><span class="line">	print(a)</span><br><span class="line">	</span><br><span class="line">b = <span class="number">1</span></span><br><span class="line">fun1(b)</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun2</span>(<span class="params">list_a</span>):</span></span><br><span class="line">	list_a.append(<span class="number">2</span>)</span><br><span class="line">	print(list_a)</span><br><span class="line">	</span><br><span class="line">list_b = [<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">fun2(list_b)</span><br><span class="line">print(list_b)</span><br></pre></td></tr></table></figure>

<p>尝试下，上面这两个示例的输出结果，有什么区别？</p>
<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><ul>
<li><p>使用lambda创建</p>
</li>
<li><p>所谓匿名，就是不需要def语句</p>
</li>
<li><p>拥有自己的命名空间，而且只能访问自己命名空间中的变量</p>
</li>
<li><p>语法格式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> &lt;变量&gt;:&lt;语句&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="迭代器与生成器"><a href="#迭代器与生成器" class="headerlink" title="迭代器与生成器"></a>迭代器与生成器</h3><p>了解即可，更多可以戳：<a target="_blank" rel="noopener" href="http://python3-cookbook.readthedocs.io/zh_CN/latest/chapters/p04_iterators_and_generators.html">参考</a></p>
<h2 id="5-脚本编写"><a href="#5-脚本编写" class="headerlink" title="5 脚本编写"></a>5 脚本编写</h2><h3 id="输入和输出"><a href="#输入和输出" class="headerlink" title="输入和输出"></a>输入和输出</h3><ul>
<li><p>输入：input函数</p>
<blockquote>
<p>示例：name = input(“请输入您的姓名：”)</p>
</blockquote>
</li>
<li><p>输出：print函数和表达式语句</p>
<ul>
<li>输出格式化：在第8课节中，出现了一个format函数，这个函数就是格式化的利器</li>
<li>其基本用法： <code>print(&#39;大家好，我是&#123;&#125;，今年&#123;&#125;岁。&#39;.format(&#39;Allen&#39;,25))</code></li>
<li>更多用法：<a target="_blank" rel="noopener" href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c08/p02_customizing_string_formatting.html?highlight=format">字符串格式化</a>、<a target="_blank" rel="noopener" href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c03/p03_format_numbers_for_output.html?highlight=format">数字格式化</a>、<a target="_blank" rel="noopener" href="https://www.cnblogs.com/fat39/p/7159881.html">%及format用法</a></li>
</ul>
</li>
</ul>
<h3 id="错误与异常"><a href="#错误与异常" class="headerlink" title="错误与异常"></a>错误与异常</h3><p>掌握try语句的用法就好。</p>
<ul>
<li><code>try</code>：这是 <code>try</code> 语句中的唯一必需子句。该块中的代码是 Python 在 <code>try</code> 语句中首先运行的代码。</li>
<li><code>except</code>：如果 Python 在运行 <code>try</code> 块时遇到异常，它将跳到处理该异常的 <code>except</code> 块。</li>
<li><code>else</code>：如果 Python 在运行 <code>try</code> 块时没有遇到异常，它将在运行 <code>try</code> 块后运行该块中的代码。</li>
<li><code>finally</code>：在 Python 离开此 <code>try</code> 语句之前，在任何情形下它都将运行此 <code>finally</code> 块中的代码，即使要结束程序，例如：如果 Python 在运行 <code>except</code> 或 <code>else</code> 块中的代码时遇到错误，在停止程序之前，依然会执行此<code>finally</code> 块。</li>
</ul>
<h3 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h3><ul>
<li><p>open()即打开文件，用法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open(文件名, 读写模式)</span><br></pre></td></tr></table></figure>
</li>
<li><p>常用的读写模式：</p>
<table>
<thead>
<tr>
<th>模式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>只读。默认模式</td>
</tr>
<tr>
<td>rb</td>
<td>二进制只读。</td>
</tr>
<tr>
<td>r+</td>
<td>读写。</td>
</tr>
<tr>
<td>rb+</td>
<td>二进制读写。</td>
</tr>
<tr>
<td>w</td>
<td>写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除，不想删除可参考模式a。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>wb</td>
<td>二进制写入。其余同上</td>
</tr>
<tr>
<td>w+</td>
<td>读写。其余同上</td>
</tr>
<tr>
<td>wb+</td>
<td>二进制读写。其余同上</td>
</tr>
<tr>
<td>a</td>
<td>追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>
<tr>
<td>ab</td>
<td>二进制追加。其余同上</td>
</tr>
<tr>
<td>a+</td>
<td>读写。其余同上</td>
</tr>
<tr>
<td>ab+</td>
<td>二进制追加。其余同上</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="导入本地模块-函数"><a href="#导入本地模块-函数" class="headerlink" title="导入本地模块/函数"></a>导入本地模块/函数</h3><p>如果觉得课程中的解释有些晦涩，可以戳：<a target="_blank" rel="noopener" href="https://blog.csdn.net/yjk13703623757/article/details/77918633/">如何简单地理解Python中的if <strong>name</strong> == ‘<strong>main</strong>‘</a></p>
<h2 id="项目相关"><a href="#项目相关" class="headerlink" title="项目相关"></a>项目相关</h2><p>本周是P2的第一周，大家除了完成以上学习任务之外呢，还要为P2项目提前准备以下几个方面：</p>
<ul>
<li>完成本地环境的搭建</li>
<li>下载P2的项目文件，若教室下载失败的话，请戳我微信，分享百度云给你</li>
<li>完成项目的课节1-3，对即将挑战的项目有一个大概的了解，然后在学习中有的放矢</li>
</ul>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>如果项目一还没通过，请一定要抓紧时间！一定要在本周三之前顺利通关！大家一定要对自己有信心，然后，对自己狠一点！加油！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://capallen.gitee.io/2018/%E7%AC%AC%E4%B8%80%E5%91%A8-%E9%A1%B9%E7%9B%AE%E4%B8%80.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Allen Jia">
      <meta itemprop="description" content="数据 算法 分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Allen's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/%E7%AC%AC%E4%B8%80%E5%91%A8-%E9%A1%B9%E7%9B%AE%E4%B8%80.html" class="post-title-link" itemprop="url">每周导学-第一周-项目一</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-07-16 22:30:09" itemprop="dateCreated datePublished" datetime="2018-07-16T22:30:09+08:00">2018-07-16</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2019-06-06 10:32:23" itemprop="dateModified" datetime="2019-06-06T10:32:23+08:00">2019-06-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/DAND-VIP/" itemprop="url" rel="index"><span itemprop="name">DAND-VIP</span></a>
        </span>
    </span>

  
    <span id="/2018/%E7%AC%AC%E4%B8%80%E5%91%A8-%E9%A1%B9%E7%9B%AE%E4%B8%80.html" class="post-meta-item leancloud_visitors" data-flag-title="每周导学-第一周-项目一" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/%E7%AC%AC%E4%B8%80%E5%91%A8-%E9%A1%B9%E7%9B%AE%E4%B8%80.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/%E7%AC%AC%E4%B8%80%E5%91%A8-%E9%A1%B9%E7%9B%AE%E4%B8%80.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>If you change nothing, nothing will change.</p>
</blockquote>
<p>Hi，各位同学们，大家好，欢迎踏上数据分析的<del>不归路</del>列车~在发车之前，有几点需要给大家强调一下：</p>
<p><strong>课程和项目</strong>：</p>
<ul>
<li>课程以项目为导向，学习曲线十分平缓，我也是从一个小白一步步走过来的，所以请大家一定要对自己有<strong>信心</strong></li>
<li>从Teambition中，大家也能看到，我们把整体的一个大任务（入门毕业）拆分成了四个子任务（项目），在每个子任务中又拆分成了<strong>知识学习、项目提交和修改、总结沉淀</strong>三个部分，在这三个部分之中，大家还可以自行再进行切分，如此将一个大难题拆分成若干个小问题，逐个击破，十分轻松</li>
<li>对于项目，大家一定要重视！切不可抄袭，一定要<strong>对自己负责任</strong></li>
</ul>
<p><strong>如何提问</strong>：</p>
<p>在课程学习中难免会遇到问题，请按照以下流程进行问题提问：</p>
<ul>
<li><p><strong>课程知识问题</strong>：</p>
<ul>
<li>先自行查找问题答案，参考：谷歌/百度搜索、<a target="_blank" rel="noopener" href="http://www.runoob.com/sql/sql-tutorial.html">菜鸟教程</a>、<a target="_blank" rel="noopener" href="https://www.csdn.net/">CSDN</a>、<a target="_blank" rel="noopener" href="https://stackoverflow.com/">stack<strong>overflow</strong></a>、<a target="_blank" rel="noopener" href="https://github.com/CapAllen/DAND_VIP_Class/blob/master/%E6%8B%93%E5%B1%95%E5%8F%82%E8%80%83/SQL.Cookbook(%E4%B8%AD%E6%96%87%E7%89%88).pdf">SQLCookbook</a></li>
<li>若问题未解决，请将<strong>问题</strong>及其<strong>所在课程章节</strong>发送至微信群，并@助教即可</li>
</ul>
</li>
<li><p><strong>非课程知识问题</strong>：</p>
<p>比如账号登录、课程加载等问题，请详细描述问题，反馈给班主任即可</p>
</li>
</ul>
<p>该说的也说了个差不多，那么，请大家<del>系好安全带</del>做好<strong>觉悟</strong>：</p>
<ul>
<li>工作可能会很忙，但是每天至少要抽出一个小时来坚持学习，否则一日废，日日废</li>
<li>准备好一个笔记本或者有道云笔记、EverNote这种电子笔记本，用来记录学习笔记/问题</li>
<li>自律，自律，自律！自律才能让你更自由！</li>
</ul>
<p>准备发车！</p>
<h1 id="本周目标"><a href="#本周目标" class="headerlink" title="本周目标"></a>本周目标</h1><p>学习课程<strong>SQL初探</strong>，并完成（通过）项目一。</p>
<h1 id="学习计划"><a href="#学习计划" class="headerlink" title="学习计划"></a>学习计划</h1><table>
<thead>
<tr>
<th align="center">时间</th>
<th align="center">学习资源</th>
<th align="center">学习内容</th>
</tr>
</thead>
<tbody><tr>
<td align="center">周二</td>
<td align="center">微信群 - 每周导学</td>
<td align="center">预览每周导学</td>
</tr>
<tr>
<td align="center">周三、周四</td>
<td align="center">Udacity - Classroom</td>
<td align="center">SQL初探、项目一</td>
</tr>
<tr>
<td align="center">周五</td>
<td align="center">微信/Classin - 1V1</td>
<td align="center">课程难点</td>
</tr>
<tr>
<td align="center">周六</td>
<td align="center">Classin - 优达日</td>
<td align="center">项目串讲</td>
</tr>
<tr>
<td align="center">周日</td>
<td align="center">笔记本</td>
<td align="center">总结沉淀</td>
</tr>
<tr>
<td align="center">周一</td>
<td align="center">自主学习</td>
<td align="center">查漏补缺</td>
</tr>
</tbody></table>
<h1 id="本周知识清单"><a href="#本周知识清单" class="headerlink" title="本周知识清单"></a>本周知识清单</h1><h2 id="课程内掌握"><a href="#课程内掌握" class="headerlink" title="课程内掌握"></a>课程内掌握</h2><h3 id="SQL-格式化查询语句"><a href="#SQL-格式化查询语句" class="headerlink" title="SQL - 格式化查询语句"></a>SQL - 格式化查询语句</h3><ul>
<li><p>命令需要大写，其他内容如变量等则需要小写</p>
</li>
<li><p>表和变量名中不要出现空格，可使用下划线<code>_</code>替代</p>
</li>
<li><p>查询语句中，使用单一空格隔开命令和变量</p>
</li>
<li><p>为提高代码的可移植性，请在查询语句结尾添加一个分号<code>；</code></p>
<p> 正确示范</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> account_id</span><br><span class="line"><span class="keyword">FROM</span> orders;</span><br></pre></td></tr></table></figure>

<h3 id="SQL-基础命令及用法参考"><a href="#SQL-基础命令及用法参考" class="headerlink" title="SQL - 基础命令及用法参考"></a>SQL - 基础命令及用法参考</h3><table>
<thead>
<tr>
<th align="center"><strong>语句</strong></th>
<th align="left"><strong>使用方法</strong></th>
<th align="left"><strong>其他详细信息</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">SELECT</td>
<td align="left">SELECT <strong>Col1</strong>, <strong>Col2</strong>, …</td>
<td align="left">提供你需要的列</td>
</tr>
<tr>
<td align="center">FROM</td>
<td align="left">FROM <strong>Table</strong></td>
<td align="left">提供列所在的表格</td>
</tr>
<tr>
<td align="center">LIMIT</td>
<td align="left">LIMIT <strong>10</strong></td>
<td align="left">限制返回的行数</td>
</tr>
<tr>
<td align="center">ORDER BY</td>
<td align="left">ORDER BY <strong>Col</strong></td>
<td align="left">根据列命令表格。与 <strong>DESC</strong> 一起使用。</td>
</tr>
<tr>
<td align="center">WHERE</td>
<td align="left">WHERE <strong>Col &gt; 5</strong></td>
<td align="left">用于过滤结果的一个条件语句</td>
</tr>
<tr>
<td align="center">LIKE</td>
<td align="left">WHERE <strong>Col LIKE ‘%me%’</strong></td>
<td align="left">仅提取出列文本中具有 ‘me’ 的行</td>
</tr>
<tr>
<td align="center">IN</td>
<td align="left">WHERE <strong>Col IN (‘Y’, ‘N’)</strong></td>
<td align="left">仅过滤行对应的列为 ‘Y’ 或 ‘N’</td>
</tr>
<tr>
<td align="center">NOT</td>
<td align="left">WHERE <strong>Col NOT IN (‘Y’, “N’)</strong></td>
<td align="left"><strong>NOT</strong> 经常与 <strong>LIKE</strong> 和 <strong>IN</strong> 一起使用。</td>
</tr>
<tr>
<td align="center">AND</td>
<td align="left">WHERE <strong>Col1 &gt; 5 AND Col2 &lt; 3</strong></td>
<td align="left">过滤两个或多个条件必须为真的行</td>
</tr>
<tr>
<td align="center">OR</td>
<td align="left">WHERE <strong>Col1 &gt; 5 OR Col2 &lt; 3</strong></td>
<td align="left">过滤一个条件必须为真的行</td>
</tr>
<tr>
<td align="center">BETWEEN</td>
<td align="left">WHERE <strong>Col BETWEEN 3 AND 5</strong></td>
<td align="left">一般情况下，语法比使用 <strong>AND</strong> 简单一些</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> col1, col2</span><br><span class="line"><span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">WHERE</span> col3  &gt; <span class="number">5</span> <span class="keyword">AND</span> col4 <span class="keyword">LIKE</span> <span class="string">&#x27;%os%&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> col5</span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h3 id="SQL-运算顺序"><a href="#SQL-运算顺序" class="headerlink" title="SQL - 运算顺序"></a>SQL - 运算顺序</h3><ul>
<li><p>在 SQL 中使用<strong>算术运算符</strong>时，采用与数学中相同的运算顺序。</p>
</li>
<li><p>在 SQL中使用<strong>逻辑运算符</strong>时，要参考如下优先级顺序（操作符优先级由低到高，排列在同一行的操作符具有相同的优先级）</p>
<table>
<thead>
<tr>
<th>优先级</th>
<th>操作符列表</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>:=</td>
</tr>
<tr>
<td>2</td>
<td>||，OR，XOR</td>
</tr>
<tr>
<td>3</td>
<td>&amp;&amp;，AND</td>
</tr>
<tr>
<td>4</td>
<td>NOT</td>
</tr>
<tr>
<td>5</td>
<td>BETWEEN，CASE，WHEN，THEN，ELSE</td>
</tr>
<tr>
<td>6</td>
<td>=，&lt;=&gt;，&gt;=，&gt;，&lt;=，&lt;，&lt;&gt;，!=，IS，LIKE，REGEXP，IN</td>
</tr>
<tr>
<td>7</td>
<td>|</td>
</tr>
<tr>
<td>8</td>
<td>&amp;</td>
</tr>
<tr>
<td>9</td>
<td>&lt;&lt;，&gt;&gt;</td>
</tr>
<tr>
<td>10</td>
<td>-，+</td>
</tr>
<tr>
<td>11</td>
<td>*，/，DIV，%，MOD</td>
</tr>
<tr>
<td>12</td>
<td>^</td>
</tr>
<tr>
<td>13</td>
<td>- (一元减号)，~ (一元比特反转)</td>
</tr>
<tr>
<td>14</td>
<td>!</td>
</tr>
<tr>
<td>15</td>
<td>BINARY，COLLATE</td>
</tr>
</tbody></table>
<p><strong>HINT</strong>：看到如上这么复杂难记的优先级表，想必你也会头大，所以，为了避免因优先级导致的逻辑错误，请一定要将逻辑语句加上小括号，这样既清晰又不易出错！</p>
</li>
</ul>
<h2 id="课程外了解"><a href="#课程外了解" class="headerlink" title="课程外了解"></a>课程外了解</h2><ul>
<li><p>实体关系图（Entity Relationship Diagram，ERD），是一种用于数据库设计的结构图。一幅 ERD 包含不同的符号和连接符，用于显示两个重要的信息： 系统范围内的<strong>主要实体</strong>，以及这些<strong>实体之间的相互关系</strong>。 </p>
<p><a target="_blank" rel="noopener" href="https://imgchr.com/i/PQaRtH"><img src="https://s1.ax1x.com/2018/07/16/PQaRtH.md.png" alt="PQaRtH.md.png"></a></p>
<ul>
<li><p><strong>实体</strong>：是一个系统内<strong>可定义的事物或概念</strong>（术语“实体”通常用来代替“表”，但它们是一样的 ），如上图中的<code>accounts</code>、<code>orders</code>等，即为实体。</p>
</li>
<li><p><strong>主键</strong>(Primary Key,PK)：是一种特殊的实体属性，用于<strong>界定数据库表中的记录的独特性</strong>。一个表不能有两笔（或更多）拥有相同的主键属性值的记录。在上图中，各个实体内的<code>id</code>即为PK。</p>
</li>
<li><p><strong>外键</strong>(Foreign Key,FK):是<strong>对主键的引用</strong>，用于识别实体之间的关系。请注意，有别于主键，外键不必是唯一的，多个记录可以共享相同的值。 在上图中，<code>orders</code>表中的<code>account_id</code>即为链接表<code>accounts</code>的外键。</p>
</li>
<li><p><strong>基数</strong>：基数定义了<strong>一个实与另一个实体的关系里面，某方可能出现次数</strong>。 三种常见的主要关系是一对一，一对多和多对多。  </p>
<ul>
<li><p>一对一：</p>
<p><img src="https://s1.ax1x.com/2018/07/16/PQaWhd.png" alt="PQaWhd.png"></p>
</li>
<li><p>一对多：在课程中的例子即为一对多。</p>
<p><img src="https://s1.ax1x.com/2018/07/16/PQa2Ae.png" alt="PQa2Ae.png"></p>
</li>
<li><p>多对多：</p>
<p><img src="https://s1.ax1x.com/2018/07/16/PQac7D.png" alt="PQac7D.png"></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="项目相关"><a href="#项目相关" class="headerlink" title="项目相关"></a>项目相关</h1><p>请先自行尝试完成项目，如果感觉吃力，再参考哈~</p>
<h2 id="项目概览"><a href="#项目概览" class="headerlink" title="项目概览"></a>项目概览</h2><p>在这个项目中，我们利用Udacity的数据库，分别提取本地和全球的气温数据，并进行可视化对比分析，观察可视化结果，给出本地及全球平均气温的走势结论。 </p>
<h2 id="模块化任务"><a href="#模块化任务" class="headerlink" title="模块化任务"></a>模块化任务</h2><h3 id="数据提取"><a href="#数据提取" class="headerlink" title="数据提取"></a>数据提取</h3><p>利用SQL，在项目工作区中，提取出全球气温数据和感兴趣城市的数据。</p>
<p><strong>HINT</strong>：</p>
<ul>
<li><p>在提取感兴趣的城市之前，可以先通过如下代码查看数据库中，是否存在该城市数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> city_list</span><br><span class="line"><span class="keyword">WHERE</span> city = xxx</span><br></pre></td></tr></table></figure>
</li>
<li><p>提取出数据之后，可以先在工作区简单预览下，查看有连续记录数据的年份区间，并以这个区间作为筛选条件，重新提取数据并保存</p>
</li>
<li><p>你提取出来的两个数据文件，在时间筛选上应该是一致的</p>
</li>
</ul>
<h3 id="数据整理"><a href="#数据整理" class="headerlink" title="数据整理"></a>数据整理</h3><p>利用Excel或Google Sheet对两组数据进行预处理，计算出平均气温的移动平均值</p>
<p><strong>HINT</strong>：</p>
<ul>
<li>计算移动平均值采用的函数为<code>AVERAGE</code></li>
<li>两组数据的移动平均值要单独成列，并且有一个不与其他列重复且易于辨认的列名，如<code>global_temp</code></li>
<li>为方便分析，你需要将两列数据合并到同一个文件中，注意在复制粘贴时，选择<code>粘贴选项</code> -&gt; <code>值和数据格式</code>，这样才会粘贴得到公式计算后的数据。</li>
</ul>
<h3 id="数据可视化及分析"><a href="#数据可视化及分析" class="headerlink" title="数据可视化及分析"></a>数据可视化及分析</h3><p>利用Excel或Google Sheet将两组移动平均值进行线条图可视化，并对结果进行<strong>描述</strong>。</p>
<h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>对可视化的分析结果进行总结，并发表结论性看法。</p>
<h2 id="项目提交"><a href="#项目提交" class="headerlink" title="项目提交"></a>项目提交</h2><p>提交前，请将 PDF 格式的文档压缩成zip格式的压缩包，文件名不要出现汉字或者空格，示例<code>Allen_project_01.zip</code></p>
<p><strong>项目提交、收到审阅结果之后请及时告知班主任或助教，让我们一起分享你的喜悦，提前祝项目顺利通过，等你好消息！</strong></p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.visual-paradigm.com/cn/guide/data-modeling/what-is-entity-relationship-diagram/">什么是实体关系图（ERD）？</a></li>
</ul>
<h1 id="提前通关了怎么办？"><a href="#提前通关了怎么办？" class="headerlink" title="提前通关了怎么办？"></a>提前通关了怎么办？</h1><ul>
<li>整理学习笔记</li>
<li>开始下一阶段的学习：找助教要下一周的导学呀~</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://capallen.gitee.io/2018/%E8%AF%BE%E5%A0%82%E8%A7%84%E6%A8%A1%E6%82%96%E8%AE%BA-.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Allen Jia">
      <meta itemprop="description" content="数据 算法 分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Allen's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/%E8%AF%BE%E5%A0%82%E8%A7%84%E6%A8%A1%E6%82%96%E8%AE%BA-.html" class="post-title-link" itemprop="url">课堂规模悖论</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-02-28 12:30:09" itemprop="dateCreated datePublished" datetime="2018-02-28T12:30:09+08:00">2018-02-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2019-06-06 10:32:23" itemprop="dateModified" datetime="2019-06-06T10:32:23+08:00">2019-06-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
        </span>
    </span>

  
    <span id="/2018/%E8%AF%BE%E5%A0%82%E8%A7%84%E6%A8%A1%E6%82%96%E8%AE%BA-.html" class="post-meta-item leancloud_visitors" data-flag-title="课堂规模悖论" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/%E8%AF%BE%E5%A0%82%E8%A7%84%E6%A8%A1%E6%82%96%E8%AE%BA-.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/%E8%AF%BE%E5%A0%82%E8%A7%84%E6%A8%A1%E6%82%96%E8%AE%BA-.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在《Think Stats 2nd》书中的第三章提到了一个有趣的统计学悖论——课堂规模悖论。书中表述如下：</p>
<hr>
<p>在很多美国大学和学院里，学生与教师的比例约为10：1，但是学生们经常会惊讶地发现自己课上的平均学生数大于10，造成这一现象的原因有两个：</p>
<ul>
<li>学生通常每学期修4到5门课，但是教授经常只教1门或2门；</li>
<li>上小课的学生很少，但上大课的学生人数非常之多。</li>
</ul>
<p>一旦我们知道了第一个原因，其效应就是显而易见的，第二个就不那么明显了。让我们来看一个例子，假设一所学院某学期开了65门课，选课的人数分布如下：</p>
<table>
<thead>
<tr>
<th align="center">size</th>
<th align="center">count</th>
</tr>
</thead>
<tbody><tr>
<td align="center">5-9</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">10-14</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">15-19</td>
<td align="center">14</td>
</tr>
<tr>
<td align="center">20-24</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">25-29</td>
<td align="center">6</td>
</tr>
<tr>
<td align="center">30-34</td>
<td align="center">12</td>
</tr>
<tr>
<td align="center">35-39</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">40-44</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">45-49</td>
<td align="center">2</td>
</tr>
</tbody></table>
<p>如果你问院长，每门课平均的选课人数是多少，他会构建一个PMF( probability mass function，概率质量函数），计算出均值。</p>
<blockquote>
<p>PMF是将数据中的每个值映射到其概率上，是除直方图外的另一种表示数据分布的方法。</p>
</blockquote>
<hr>
<p>书中的代码使用的是作者自建的一个python库thinkstats2，这里不再赘述，只是借书中的例子，用python还原如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义选课人数分布字典</span></span><br><span class="line">d = &#123;<span class="number">7</span>:<span class="number">8</span>,<span class="number">12</span>:<span class="number">8</span>,<span class="number">17</span>:<span class="number">14</span>,<span class="number">22</span>:<span class="number">4</span>,<span class="number">27</span>:<span class="number">6</span>,<span class="number">32</span>:<span class="number">12</span>,<span class="number">37</span>:<span class="number">8</span>,<span class="number">42</span>:<span class="number">3</span>,<span class="number">47</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="comment">#获取人数分布的array</span></span><br><span class="line">data = numpy.array(list(d.keys())).repeat(list(d.values()))</span><br><span class="line"><span class="comment">#计算均值</span></span><br><span class="line">act_mean = data.mean()</span><br></pre></td></tr></table></figure>

<p>计算得到实际选课人数均值约为23.7。</p>
<p>这是我们获取全部数据之后，站在类似于上帝视角去看的结果，那么如果我们对一组学生进行调查，询问他们的课堂上有多少学生，然后再次计算均值，会发现什么呢？</p>
<p>首先，计算出学生观察到的分布，其中每个课堂规模值的概率受到选课学生人数的“影响”。</p>
<blockquote>
<p>具体实现：假设每门课的选课人数为x，而该规模人数的课程出现的概率为p，那么通过询问，获得的该规模课程总数应该为x*p。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#我们先构建课程规模与课程出现概率的字典</span></span><br><span class="line">pmf = &#123;size:(count/<span class="number">65</span>) <span class="keyword">for</span> size,count <span class="keyword">in</span> d.items()&#125;<span class="comment">#65为课程总数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#构建课程规模与询问后得到的课程计数字典，我们把它叫做偏倚分布</span></span><br><span class="line">obs_data = &#123;size:size*count <span class="keyword">for</span> size,count <span class="keyword">in</span> pmf.items()&#125;</span><br><span class="line"><span class="comment">#计算偏倚分布的选课人数总数</span></span><br><span class="line">sum_students = sum(list(map(<span class="keyword">lambda</span> x:x[<span class="number">0</span>]*x[<span class="number">1</span>],zip(obs_data.keys(),obs_data.values()))))</span><br><span class="line"><span class="comment">#计算偏倚分布的总课程数</span></span><br><span class="line">sum_count = sum(list(obs_data.values()))</span><br><span class="line"><span class="comment">#计算偏倚分布的选课人数均值</span></span><br><span class="line">obs_mean = sum_students/sum_count</span><br></pre></td></tr></table></figure>

<p>计算得到的结果为：29.1，比实际的均值高了约25%。</p>
<p>接下来，我们构建这两组数据的PMF图，能更直观一些。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#构建偏倚分布课程规模与该课程出现概率的字典</span></span><br><span class="line">obs_pmf = &#123;size:count/sum_count <span class="keyword">for</span> size,count <span class="keyword">in</span> obs_data.items()&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#可视化，并列柱状图</span></span><br><span class="line">sns.set(style=<span class="string">&quot;white&quot;</span>, context=<span class="string">&quot;talk&quot;</span>)<span class="comment">#设置样式</span></span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize = (<span class="number">10</span>,<span class="number">5</span>))<span class="comment">#设置图像大小</span></span><br><span class="line">ind = np.array(list(pmf.keys()))</span><br><span class="line">width = <span class="number">0.4</span></span><br><span class="line"></span><br><span class="line">plt.bar(ind - width,pmf.values(),label = <span class="string">&#x27;actual&#x27;</span>)<span class="comment">#实际值</span></span><br><span class="line"></span><br><span class="line">plt.bar(ind + width,ano_pmf.values(),label = <span class="string">&#x27;observed&#x27;</span>)<span class="comment">#观察值</span></span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&#x27;class size&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;PMF&#x27;</span>)</span><br><span class="line">plt.xticks(list(pmf.keys()))</span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper right&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://s1.ax1x.com/2018/10/03/i30ncq.png" alt="i30ncq.png"></p>
<p>从图中可以明显看出，在偏倚分布中，小课更少，大课更多。</p>
<p>同样，你也可以反向进行如上的操作。假设你希望得到一所学院的课堂规模分布，但却无法从院长处得到可靠数据，你可以采用另一个办法：选择学生的一个随机样本，进行调查，询问他们的课堂上有多少学生，然后再进行“去偏倚”的操作，这里就需要用统计得来的同等规模课程计数除以它出现的概率。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://capallen.gitee.io/2018/windows%E5%88%9B%E5%BB%BA%E5%8F%AA%E6%9C%89%E6%8B%93%E5%B1%95%E5%90%8D%E7%9A%84%E6%96%87%E4%BB%B6.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Allen Jia">
      <meta itemprop="description" content="数据 算法 分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Allen's Blog">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/windows%E5%88%9B%E5%BB%BA%E5%8F%AA%E6%9C%89%E6%8B%93%E5%B1%95%E5%90%8D%E7%9A%84%E6%96%87%E4%BB%B6.html" class="post-title-link" itemprop="url">Windows下创建只有拓展名的文件</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-02-01 20:30:09" itemprop="dateCreated datePublished" datetime="2018-02-01T20:30:09+08:00">2018-02-01</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2019-06-06 10:32:23" itemprop="dateModified" datetime="2019-06-06T10:32:23+08:00">2019-06-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/DOS/" itemprop="url" rel="index"><span itemprop="name">DOS</span></a>
        </span>
    </span>

  
    <span id="/2018/windows%E5%88%9B%E5%BB%BA%E5%8F%AA%E6%9C%89%E6%8B%93%E5%B1%95%E5%90%8D%E7%9A%84%E6%96%87%E4%BB%B6.html" class="post-meta-item leancloud_visitors" data-flag-title="Windows下创建只有拓展名的文件" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/windows%E5%88%9B%E5%BB%BA%E5%8F%AA%E6%9C%89%E6%8B%93%E5%B1%95%E5%90%8D%E7%9A%84%E6%96%87%E4%BB%B6.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/windows%E5%88%9B%E5%BB%BA%E5%8F%AA%E6%9C%89%E6%8B%93%E5%B1%95%E5%90%8D%E7%9A%84%E6%96%87%E4%BB%B6.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>为了能在高高的墙内顺利下载安装Atom的拓展包（<a target="_blank" rel="noopener" href="https://www.v2ex.com/amp/t/369533">教程</a>），需要在本地创建一个<code>.apmrc</code>文件,但是直接创建保存的话，会提示</p>
<p><code>请输入文件名</code>，那就只能通过命令符来咯，摸索了下总结如下：</p>
<p>1.在你想创建文件的路径下，<code>Shift</code>+右击，<code>在此处打开命令符</code>;</p>
<p>2.逐一输入如下行，每输入完一行按一次回车，搞定！</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">copy con .fileext</span><br><span class="line">I wanna create a file without ext.</span><br><span class="line">^Z</span><br></pre></td></tr></table></figure>

<p>其中，<code>.fileext</code>替换为你想创建的拓展名文件；</p>
<p>第二行替换为：你创建文件中的内容，或者可以随便输入什么，然后再用记事本打开后进行修改；</p>
<p>第三行可以通过<code>Ctrl+Z</code>或者<code>F6</code>进行输入。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Allen Jia</span>
</div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  <script src="/js/local-search.js"></script>















  








  

  
      <script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              const target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    const script = document.createElement('script');
    script.src = '//cdn.jsdelivr.net/npm/mathjax@3.1.0/es5/tex-mml-chtml.js';
    script.defer = true;
    document.head.appendChild(script);
  } else {
    MathJax.startup.document.state(0);
    MathJax.typesetClear();
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@2.0.0/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink.listen({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://capallen.gitee.io/page/3/',]
      });
      });
  </script>
<script>
NexT.utils.loadComments('#valine-comments', () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', () => {
    new Valine(Object.assign({
      el  : '#valine-comments',
      path: "/page/3/",
    }, {"enable":true,"appId":"1GIsNa4yl3cJmXFEcFxWgNJX-gzGzoHsz","appKey":"sAf2Iz8P4JMH7Ac7YKeoojii","placeholder":"畅所欲言吧，朋友！","avatar":"mm","meta":["nick","mail"],"pageSize":10,"lang":null,"visitor":true,"comment_count":true,"recordIP":false,"serverURLs":null,"enableQQ":false,"requiredFields":[]}
    ));
  }, window.Valine);
});
</script>

</body>
</html>
